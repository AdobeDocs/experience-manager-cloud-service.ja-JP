---
title: グループ移行
description: AEM as a Cloud Serviceでのグループ移行の概要です。
exl-id: 4a35fc46-f641-46a4-b3ff-080d090c593b
source-git-commit: 1f9526f8e8aa6a070e95827fab16431b0ee7566b
workflow-type: tm+mt
source-wordcount: '1315'
ht-degree: 10%

---


# グループ移行 {#group-migration}

>[!CONTEXTUALHELP]
>id="aemcloud_ctt_groupmigration"
>title="グループ移行"
>abstract="コンテンツ転送ツールは、グループを既存のAdobe Experience Manager（AEM）システムからAEM as a Cloud Serviceにコピーする場合に役立ちます。"

>[!NOTE]
>以前のバージョンのユーザーマッピングツールについては、[レガシードキュメント](/help/journey-migration/content-transfer-tool/user-mapping-tool-legacy/considerations-user-mapping-tool-legacy.md)を参照してください。

## はじめに {#introduction}

>[!CONTEXTUALHELP]
>id="aemcloud_ctt_usermigration"
>title="ユーザーは移行されません"
>abstract="コンテンツ転送ツールでユーザーが移行されなくなりました。 ユーザーは、Admin Consoleで管理する必要があります。"
>additional-url="https://experienceleague.adobe.com/en/docs/experience-manager-cloud-service/content/onboarding/journey/admin-console" text="AEMAdmin Consoleドキュメント"
>additional-url="https://adminconsole.adobe.com/" text="AEM Admin Console"

Adobe Experience Manager（AEM as a Cloud Service）への移行ジャーニーの一環として、グループを既存のAEM システムからAEM as a Cloud Serviceに移行する必要があります。 このタスクは、コンテンツ転送ツールによって実行されます。

AEM as a Cloud Service の重要な変更の 1 つは、Adobe ID を使用したオーサー層へのアクセスが完全に統合されていることです。このプロセスでは、ユーザーとユーザーグループを管理するために [Adobe Admin Console](https://helpx.adobe.com/jp/enterprise/using/admin-console.html) を使用する必要があります。ユーザープロファイル情報が Adobe Identity Management System（IMS）に一元化され、すべての Adobe クラウドアプリケーションでシングルサインオンを利用できます。詳しくは、[Identity Management](https://experienceleague.adobe.com/docs/experience-manager-cloud-service/content/overview/what-is-new-and-different.html?lang=ja#identity-management) を参照してください。この変更により、ユーザーは IMS を使用してAEMに最初にログインしたときに自動的に作成されます。  したがって、CTT はユーザーをクラウドシステムに移行しません。  IMS ユーザーは IMS グループに配置する必要があります。IMS グループは移行されるグループ、または移行されるAEM コンテンツへのアクセス権が付与されたAEM グループに配置される新しいグループにすることができます。  これにより、クラウドシステム上のユーザーは、ソース AEM システム上と同じアクセス権を持つようになります。

## グループ移行の詳細 {#group-migration-detail}

コンテンツ転送ツールおよびCloud Acceleration Managerは、移行されるコンテンツに関連付けられているすべてのグループをクラウドシステムに移行します。 コンテンツ転送ツールでは、抽出処理中にソース AEM システムからすべてのグループをコピーします。 次に、CAM 取り込みは特定のグループのみを選択して移行します。

* ターゲットのクラウドシステムに既に存在する組み込みのグループが多数あります。これらのグループは移行されません。
* 移行済みコンテンツの ACL または CUG ポリシーで直接または間接的に参照されるビルトイングループの直接メンバーグループは移行されます。これにより、直接または間接のメンバーであるこれらのグループのユーザーは、移行済みコンテンツへのアクセスを維持できます。
* 移行されたコンテンツの ACL ポリシーまたは CUG ポリシー上にグループがある場合、そのグループは移行されます。
* ACL や CUG ポリシーにないグループ、既に宛先システムにあるグループ、一意性に制限されたデータが既にターゲットシステムにあるグループなどは移行されません。

グループについてログに記録またはレポートされるパスは、そのグループをトリガーした最初の移行されるパスにすぎず、そのグループは他のコンテンツパス上にある場合もあります。

移行されるほとんどのグループは、IMS で管理されるように設定されています。  つまり、IMS 内の同じ名前のグループがAEM内のグループにリンクされ、IMS グループ内の IMS ユーザーはAEM内のAEM ユーザーとグループのメンバーになります。  これにより、グループの ACL または CUG ポリシーに従って、これらのユーザーがコンテンツにアクセスできるようになります。

Assets コレクションで作成されたグループの場合は、この IMS 設定の例外となります。 AEMでコレクションを作成すると、そのコレクションにアクセスするためのグループが作成されます。このようなグループはクラウドシステムに移行されますが、IMS で管理するように設定されません。  これらのグループに IMS ユーザーを追加するには、Assets UI のグループプロパティ ページで、別の IMS グループの一部として個別に、または一括して追加する必要があります。


## グループ移行のオプトアウト {#group-migration-option}

CTT バージョン 3.0.20 以降には、グループの移行を無効にするオプションが含まれています。  これは、OSGI コンソールで次のように設定されます。

* OSGI 設定 `(http://<server> /system/console/configMgr)` を開きます。
* **コンテンツ転送ツール抽出サービス設定** という設定をクリックします。
* 「**移行にグループを含める**」のチェックを外して、グループの移行を無効にします
* 「**保存**」をクリックして、設定が保存され、サーバーでアクティブになっていることを確認します

この設定を無効にした場合、グループは移行されず、プリンシパル移行レポートまたはユーザーレポートは生成されません。

## ユーザーレポート {#user-report}

移行中、ユーザーは移行されませんが、何らかの方法でキャプチャされない限り、ソース・システム上のユーザー・グループの関係は失われます。  ユーザーレポートは、この情報の一部をテキスト形式でユーザーレポートに取り込みます。 このモードでは、各ユーザが所属するグループのリストとともに（1 行につき 1 つ）報告されます（ただし、マイグレーションされていないグループはこのリストには含まれません）。ただし、グループのリストが空の場合は、ユーザは表示されません。 各ユーザーと共にレポートされるグループは、ユーザーがソースシステムで直接または間接的にメンバーであるグループです。ソースシステムのグループは、ターゲットシステムではネストされないが、ソースシステムではネストされる場合があるので、このグループのリストは、IMS で新しくフラット化されたグループ構造をサポートします。

ワイプの後にワイプ以外の取り込みの場合、ユーザーのリスト内のグループには、どちらのフェーズでも移行されたこれらのグループが含まれます。

レポートには、各ユーザーのグループのほかに、ユーザーにメモを追加できるフィールドがあります（メモの意味に関する詳細な説明もレポートにあります）。  メモの例を次に示します。

* ACL 内で直接参照されるユーザーのメモセクションには *メモ A* が表示されます。これは、推奨されるユースケースやベストプラクティスではないからです。
* ビルトイングループの直接のメンバーであるユーザーのメモセクションには *メモ B* が表示されます。これもまた、推奨されるユースケースやベストプラクティスではありません。

これらのケースは同時に発生し、また以前のケースと同時に発生する可能性があります。

ユーザーレポートは、プリンシパル移行レポートの最後（その一部）に追加されます（以下の [ 最終的な概要とレポート ](#final-summary-and-report) を参照）。

## その他の考慮事項 {#additional-considerations}

* 「**取得前にクラウドインスタンス上の既存のコンテンツを消去**」オプションが設定されている場合は、以前にCloud Serviceインスタンスに転送されたグループと既存のリポジトリ全体が削除されます。コンテンツの取り込み先となる新しいリポジトリが作成されます。 また、このプロセスは、ターゲット・Cloud Service・インスタンスに対する権限を含むすべての設定もリセットします。これは、**administrators** グループに追加されたすべてのユーザーに対して適用されます。 CTT/CAM 取り込みのアクセストークンを取得するには、管理者ユーザーを&#x200B;**管理者**&#x200B;グループに再度追加する必要があります。
* ワイプ以外の取り込みが実行された場合（**既存のコンテンツのワイプ** 設定が解除された場合）、前回の転送以降にコンテンツが変更されていないのでコンテンツが転送されない場合、そのコンテンツに関連付けられたグループも転送されません。 このルールは、ソースシステム上でグループが変更された場合でも適用されます。 これは、グループの移行が、グループが関連付けられているコンテンツと共におこなわれるからです。 このため、この場合、移行元システム上のグループのメンバーであるグループは、移行される別のグループの一部であるか、移行される別のコンテンツの ACL に含まれていない限り、移行されません。 これらのグループを後で移行する場合は、パッケージの使用、ターゲットからのグループの削除と関連コンテンツの再移行、ワイプ取り込みを使用した再移行を検討してください。
* 非ワイプ取得の際、ソース AEM インスタンスとターゲット AEM Cloud Service インスタンスの両方で一意性の制約を受ける同じデータ（rep:principalName、rep:authorizableId、jcr:uuid または rep:externalId）を持つグループが存在する場合、該当するグループは移行 _されません_ 移行され、クラウドシステム上の以前に存在していたグループは変更されません。 これは、プリンシパル移行レポートに記録されます。
* クローズドユーザーグループ（CUG）ポリシーで使用されるグループに関するその他の考慮事項について詳しくは、[クローズドユーザーグループの移行](/help/journey-migration/content-transfer-tool/using-content-transfer-tool/closed-user-groups-migration.md)を参照してください。

## 最終概要とレポート

抽出と取り込みが正常に完了すると、グループ移行の詳細を示すレポートが生成されます。 詳しくは [ グループ移行の検証方法 ](/help/journey-migration/content-transfer-tool/using-content-transfer-tool/validating-content-transfers.md#how-to-validate-group-migration) を参照してください。
