---
title: CTT 使用後の IMS へのプリンシパルの一括アップロード
description: グループおよびユーザーの一括アップロードファイルの概要と、Admin Console でファイルを使用して IMS でグループとユーザーを作成する方法について説明します。
exl-id: 43ebd6f1-1492-461a-8d9b-2b55dcde9052
source-git-commit: b9c739a03b358de7c011e50ddbdd609c90f86b6f
workflow-type: ht
source-wordcount: '2384'
ht-degree: 100%

---

# CTT 使用後の IMS へのプリンシパルの一括アップロード {#bulk-principal-uploading}

>[!CONTEXTUALHELP]
>id="bulk-principal-uploading"
>title="プリンシパルの一括アップロード"
>abstract="グループおよびユーザーの一括アップロードファイルの概要と、Admin Console でファイルを使用して IMS でグループとユーザーを作成する方法について説明します。"
>additional-url="https://experienceleague.adobe.com/ja/docs/experience-manager-cloud-service/content/onboarding/journey/admin-console" text="AEM Admin Console ドキュメント"
>additional-url="https://adminconsole.adobe.com/" text="AEM Admin Console"

## はじめに {#introduction}

CTT と CAM を使用してコンテンツをクラウドに移行すると、AEM クラウドインスタンス上にグループが作成されますが、IMS にグループやユーザーを配置できません。顧客が適切に管理するには、グループやユーザーを IMS 内に配置する必要があります。幸いにも、Admin Console には IMS グループとユーザーを一括作成する機能が用意されています。CAM の取り込みは、この一括作成用に入力ファイルを保存することで、このプロセスを支援します。これにより、お客様は、移行プロセス全体の一部として、この Admin Console のアクションを完了できます。グループ用とユーザー用の 2 種類の一括アップロードファイルが作成されます。

AEM as a Cloud Service ユーザーの管理について詳しくは、[ユーザーの管理](https://helpx.adobe.com/jp/enterprise/using/users.html)も参照してください。

## ファイルのアップロードに関する一般的なルール {#rules}

両方の種類のアップロードファイルを編集および使用する際の一般的なガイドラインがいくつかあります。

* これらの手順を実行するには、まず Admin Console への管理者アクセスを許可する必要があります。
* IMS でユーザーとグループを作成するには、いくつかの異なる方法があります。使用可能なすべてのオプションについて詳しくは、[Adobe Experience Manager as a Cloud Service の IMS サポート](https://experienceleague.adobe.com/ja/docs/experience-manager-cloud-service/content/security/ims-support)を参照してください。ここでは、Admin Console の一括アップロード方法についてのみ説明します。
* IMS には、Adobe ID、Enterprise ID、Federated ID の 3 つの ID タイプがあります。このページの手順は、**Adobe ID のみ**&#x200B;を対象としています。Enterprise ID または Federated ID を使用する必要がある場合は、[Admin Console の完全なドキュメント](https://helpx.adobe.com/jp/enterprise/using/admin-console.html)と、[Admin Console の一括グループアップロード](https://helpx.adobe.com/jp/enterprise/using/user-groups.html)、[Admin Console の一括ユーザーアップロード](https://helpx.adobe.com/jp/enterprise/using/bulk-upload-users.html)に関する特定のドキュメントを参照してください。これらの 2 つの ID タイプでは、アップロードファイルの仕様が若干異なります。
* 1 つの CSV フィールドで複数のエントリ（複数の製品プロファイル、複数のグループ、複数の管理者など）が許可されている場合、エントリを二重引用符で囲み、コンマ（`"profile 1,profile 2"` など）で区切る必要があります。

   * この場合、二重引用符ではなく一重引用符が使用されることがありますが、Microsoft Excel でファイルを編集すると、解析の問題が発生する可能性があります。Excel を使用してこれらのファイルを編集する場合は、一重引用符ではなく、必ず二重引用符を使用してください。

## 一括グループアップロード {#group-upload}

#### ユースケース：グループは AEM as a Cloud Service に移行されましたが、これらのグループは IMS/Admin Console に存在しないので、Admin Console を通じて IMS にアップロードする必要があります。

CTT/CAM の移行を実行した後に Admin Console の一括グループアップロード機能を使用するには、次の手順に従います。
1. CAM から一括グループファイルのダウンロード

   1. CAM で&#x200B;**コンテンツ転送**&#x200B;に移動し、「**取り込みジョブ**」を選択します。
   1. 該当する取り込み行の省略記号（...）をクリックし、「**プリンシパルの概要を表示**」を選択します。
   1. 表示されるダイアログで、「**ファイルをダウンロード...**」の下のドロップダウンリストから「**一括グループファイル**」を選択し、「**ダウンロード**」ボタンをクリックします。
   1. 結果の CSV ファイルを保存します。

1. 一括グループファイルの編集

   * 各行は、アップロードするグループを表し、次の 4 つのフィールドがあります（フィールド名はファイルの最初の行を構成します）。

      * _ユーザーグループ名_ - グループ名は必須で、最大 255 文字を含めることができます。このグループ名は、IMS と AEM で同じにする必要があります。
      * _説明_ - このフィールドはオプションで、最大 255 文字を含めることができます。
      * _ユーザーグループ管理者_ - このフィールドには 1 人以上のグループ管理者を含める必要があります。各管理者をコンマで区切り、リストを引用符で囲むことで、複数の管理者を割り当てることができます。各管理者のエントリには、ユーザーの ID タイプ、ハイフン、メールアドレスを含める必要があります。例：
        `"Adobe ID-myAdmin@example.com,Adobe ID-myOtherAdmin@example.com"`。管理者を区切るコンマの後にスペースを含めないでください。Admin Console に現在組織に属していないユーザーを（管理者として）含めることはできません。
      * _割り当てられた製品プロファイル_ - このフィールドはオプションです。各プロファイルをコンマで区切り、リストを引用符で囲むことで、複数の製品プロファイルを割り当てることができます。ただし、含める製品プロファイルは、組織に対して既に設定されている必要があります。製品名ではなく、製品プロファイル名を指定します。グループに割り当てられた製品プロファイルのメンバーシップは、このグループに配置されているすべてのユーザーに継承されます。製品プロファイルを検索するには：

         1. Admin Console に移動します。
         1. 製品（Adobe Experience Manager as a Cloud Service など）を見つけて、クリックします。
         1. 環境（インスタンス）を見つけて、クリックします。
         1. 製品プロファイルを一覧表示し、AEM 環境の製品プロファイルをクリックします。製品プロファイルは上部に表示されます（「_AEM ユーザー - 作成者 - プログラム 12345 - 環境 012345_」）。

   * CSV を編集する際、一部のアプリケーションでは保存時に引用符が追加され、処理が失敗する場合があります。生の CSV をシンプルなテキストエディターで検査して、各フィールドに開始引用符と終了引用符が 1 つずつのみ含まれている（および「スマート引用符」ではない）ことを確認することをお勧めします。

1. Admin Console で、一括グループファイルをアップロードします。

   1. Admin Console で、**ユーザー**、**ユーザーグループ**&#x200B;の順に移動します。
   1. 右側にある「…」ボタンをクリックします。メニューから「**CSV でユーザーグループを追加**」を選択し、アップロードする CSV を選択します。「**アップロード**」をクリックします。
   1. CSV が（Admin Console に）アップロードされたが、IMS にはまだ読み込まれていないという応答が表示されます。
   1. 同じ「…」メニューに移動し、「**一括操作の結果**」を選択します。一括アップロードの試行のリストが表示され、一括アップロードが処理中か、成功したか、失敗したかが（**ステータス**&#x200B;の下に）表示されます。

      * 最初は「処理中」と表示され、まだ完了していないことを示します。
      * 正常に完了したら、**ユーザーグループを追加**&#x200B;リンクをクリックします。これにより、各行にシンプルなステータスメッセージが表示されます。
      * 代わりに失敗した場合は、**ファイル**&#x200B;の下にある小さなアイコンをクリックすると、失敗した理由に関する詳細情報が表示されます。グループ行番号は、行 1 から参照されます。
1. Admin Console を使用して、変更を確認します。

## 一括ユーザーアップロードと編集 {#bulk-user}

Admin Console には、ユーザーの詳細をアップロードおよび編集する 2 つの個別のアクションが含まれています。以下の手順は、IMS に新規ユーザーを追加する場合に実行します。既存の IMS ユーザーを編集する手順について詳しくは、次の[一括ユーザー編集](#user-edit)の節を参照してください。

### 一括ユーザーアップロード {#user-upload}

#### ユースケース：グループは、AEM as a Cloud Service に移行され、一括アップロードまたはその他の方法でアップロードされました。ユーザーは、IMS／Admin Console に存在しない可能性があるので、Admin Console 経由で IMS のグループにアップロードしてリンクする必要があります。

>[!NOTE]
>
>ファイルの作成元と同じ取り込み中に取り込まれたグループにユーザーが属している場合、そのユーザーは&#x200B;**一括ユーザーアップロード**&#x200B;ファイルに表示されます。また、ユーザーが、移行されたコンテンツの ACL または CUG に直接属している場合や、移行されたコンテンツの ACL または CUG にある組み込みグループまたはローカルグループのメンバーである場合にも、このメッセージが表示されることがあります。これらのケースについて詳しくは、[グループの移行](/help/journey-migration/content-transfer-tool/using-content-transfer-tool/group-migration.md)を参照してください。

Admin Console の一括ユーザーアップロード機能を使用するには、次の手順に従います。

1. CAM から一括ユーザーファイルのダウンロード
   1. CAM で&#x200B;**コンテンツ転送**&#x200B;に移動し、「**取り込みジョブ**」を選択します。
   1. 該当する取り込み行の省略記号（...）をクリックし、「**プリンシパルの概要を表示**」を選択します。
   1. 表示されるダイアログで、「**ファイルをダウンロード...**」の下のドロップダウンリストから「**一括ユーザーファイル**」を選択し、「**ダウンロード**」ボタンをクリックします。
   1. 結果の CSV ファイルを保存します。
1. 一括ユーザーファイルを編集します。
   * 各行は、アップロードするユーザーを表し、次の 5 つのフィールドがあります（フィールド名はファイルの最初の行を構成します）。一部のフィールドはオプションで、こちらでは説明しません。詳しくは、[一括ユーザー CSV 形式](https://helpx.adobe.com/jp/enterprise/using/bulk-upload-users.html#csv-format)を参照してください。フィールドは次のとおりです。

      * _ID タイプ_ - オプション。指定しない場合、Adobe ID として作成されます。
      * _ユーザー名_ - オプションで、Adobe ID のアップロードには使用されません。
      * _ドメイン_ - オプションで、Adobe ID のアップロードには使用されません。
      * _メール_ - 必須。メールアドレスは、ユーザーが初回ログインする際に確認に使用されます。
      * _名_ - オプション。姓と共に複数の場所に表示されるので、使用する必要があります。
      * _姓_ - オプション。複数の場所に表示されるので、使用する必要があります。
      * _国コード_ - オプションで、Adobe ID のアップロードには使用されません。
      * _ID_ - オプションで、Adobe ID のアップロードには使用されません。
      * _製品設定_ - オプション。このフィールドは、ユーザーがメンバーになっているグループからも継承されます。
      * _管理者の役割_ - オプション。ユーザーが管理者の場合は、このフィールドを使用します。詳しくは、[一括ユーザー CSV 形式](https://helpx.adobe.com/jp/enterprise/using/bulk-upload-users.html#csv-format)を参照してください。
      * _管理対象の製品設定_ - オプション。詳しくは、[一括ユーザー CSV 形式](https://helpx.adobe.com/jp/enterprise/using/bulk-upload-users.html#csv-format)を参照してください。このフィールドは、ユーザーがメンバーになっているグループからも継承されます。
      * _ユーザーグループ_ - オプション。ユーザーをメンバーとして割り当てる必要があるグループのリスト。各グループは、既存の IMS グループにする必要があります。CAM から一括ユーザーファイルをダウンロードすると、このフィールドには、移行前にユーザーが（直接または間接的に）メンバーであった IMS 対応グループの名前が事前に入力されます。
      * _管理対象のユーザーグループ_ - オプション。詳しくは、[一括ユーザー CSV 形式](https://helpx.adobe.com/jp/enterprise/using/bulk-upload-users.html#csv-format)を参照してください。このフィールドは、ユーザーがメンバーになっているグループからも継承されます。
      * _管理対象の製品_ - オプション。詳しくは、[一括ユーザー CSV 形式](https://helpx.adobe.com/jp/enterprise/using/bulk-upload-users.html#csv-format)を参照してください。このフィールドは、ユーザーがメンバーになっているグループからも継承されます。
      * _契約管理_ - オプション。詳しくは、[一括ユーザー CSV 形式](https://helpx.adobe.com/jp/enterprise/using/bulk-upload-users.html#csv-format)を参照してください
      * _開発者アクセス_ - オプション。詳しくは、[一括ユーザー CSV 形式](https://helpx.adobe.com/jp/enterprise/using/bulk-upload-users.html#csv-format)を参照してください。
      * _自動割り当て製品_ - オプション。詳しくは、[一括ユーザー CSV 形式](https://helpx.adobe.com/jp/enterprise/using/bulk-upload-users.html#csv-format)を参照してください。

   * CSV を編集する際、一部のアプリケーションでは保存時に引用符が追加され、処理が失敗する場合があります。生の CSV をシンプルなテキストエディターで検査して、各フィールドに開始引用符と終了引用符が 1 つずつのみ含まれている（および「スマート引用符」ではない）ことを確認することをお勧めします。

1. Admin Console を使用して一括ユーザーファイルを読み込みます。

   1. Admin Console で、ユーザーに移動します。
   1. 「**CSV を利用してユーザーを追加**」ボタンをクリックします。
   1. CAM からダウンロードした一括ユーザー用 CSV ファイルをドラッグ＆ドロップまたは選択
   1. 「**アップロード**」ボタンをクリックします。
   1. CSV が（Admin Console に）アップロードされたが、IMS にはまだ読み込まれていないという応答が表示されます。
   1. 右側の「...」メニューに移動し、「**一括操作の結果**」を選択します。一括アップロード試行のリストが表示され、一括アップロードが処理中か、成功したか、失敗したかが（**ステータス**&#x200B;の下に）表示されます。

      * 最初は「処理中」と表示され、まだ完了していないことを示します。
      * 正常に完了したら、**ユーザーを追加**&#x200B;リンクをクリックします。これにより、各行にシンプルなステータスメッセージが表示されます。
      * 代わりに失敗した場合は、**ファイル**&#x200B;の下の小さなアイコンをクリックすると、失敗した理由に関する詳細が表示されます。ユーザー行番号は、行 1 から参照されます。

1. Admin Console を使用して、変更を確認します。

>[!NOTE]
>
>ワイプなしの取り込み後、以前に移行されて IMS で作成されたユーザーが一括ユーザーアップロードファイルに表示される場合があります。これには様々な理由が考えられます。この場合、ユーザーを再度アップロードすると失敗します。代わりに、一括ユーザーアップロードファイルからユーザーを削除して、ユーザーを別のグループに追加する必要がある場合は、以下に示すように一括ユーザー編集ファイルを使用します。

### 一括ユーザー編集 {#user-edit}

#### ユースケース：グループとユーザーは AEM as a Cloud Service に移行され、一括アップロードまたはその他の方法でアップロードされました。既存の IMS グループにユーザーを追加するなど、複数のユーザーに対して一度にいくつかの変更を加える必要があります。

Admin Console の一括ユーザー編集機能を使用するには、次の手順に従います。

1. Admin Console からの一括ユーザーファイルのダウンロード

   1. Admin Console で、ユーザーに移動します。
   1. 右側にある「…」ボタンをクリックします。メニューから「**CSV でユーザーの詳細を編集**」を選択します。
   1. 「**CSV テンプレートをダウンロード**」をクリックし、「**現在のユーザー**」を選択します。ローカルのダウンロードフォルダーに CSV ファイルが表示されます。

1. 一括ユーザーファイルを編集します。

   1. Admin Console で、ユーザーに移動します。
   1. テキストエディター（推奨）または Excel などのスプレッドシートアプリケーションを使用して、CSV ファイルを編集します。アプリケーションを使用すると、データに予期しない変更が加えられる可能性があるので、すべての編集を行った後で、テキストエディターを使用してファイルの形式を確認することをお勧めします。
   1. このファイルのフィールドの説明は、上記の一括ユーザーアップロードと同じです。
   1. 編集されていないすべてのユーザーを削除します。
   1. 「ユーザーグループ」フィールドを変更する場合は、現在のグループはそのままにし、必要に応じて新しいグループを追加します。既存のグループを削除すると、IMS でそのグループからユーザーが削除されます。
   1. CSV を編集する際、一部のアプリケーションでは保存時に引用符が追加され、処理が失敗する場合があります。生の CSV ファイルを単純なテキストエディターで調べて、各フィールドに開始引用符と終了引用符が 1 つずつだけ含まれていることを確認することをお勧めします（「スマート引用符」ではないことを確認してください）。

1. Admin Console で、一括ユーザーファイルをアップロードします。

   1. Admin Console で、ユーザーに移動します。
   1. 右側にある「…」ボタンをクリックします。メニューから「**CSV でユーザーの詳細を編集**」を選択します。
   1. 編集した一括ユーザー CSV ファイルをドラッグ＆ドロップまたは選択します。
   1. 「アップロード」ボタンをクリックします。
   1. CSV が（Admin Console に）アップロードされたが、IMS にはまだ読み込まれていないという応答が表示されます。
   1. 右側の「...」メニューに移動し、「**一括操作の結果**」を選択します。一括アップロードの試行のリストが表示され、一括アップロードが処理中か、成功したか、失敗したかが（ステータスの下に）表示されます。

      * 最初は「処理中」と表示され、まだ完了していないことを示します。
      * 正常に完了したら、**ユーザーの詳細を編集**&#x200B;リンクをクリックします。これにより、各行にシンプルなステータスメッセージが表示されます。
      * 代わりに失敗した場合は、**ファイル**&#x200B;の下の小さなアイコンをクリックすると、失敗した理由に関する詳細が表示されます。ユーザー行番号は、行 1 から参照されます。

1. Admin Console を使用して、変更を確認します。
