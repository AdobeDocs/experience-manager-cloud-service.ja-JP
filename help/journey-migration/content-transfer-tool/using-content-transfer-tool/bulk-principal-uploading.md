---
title: CTT の使用後の IMS へのプリンシパルの一括アップロード
description: グループおよびユーザーのバルクアップロードファイルの概要と、Admin Consoleでファイルを使用して IMS でグループとユーザーを作成する方法について説明します。
source-git-commit: c3a13f75757a478996918c6868a172d75158aafe
workflow-type: tm+mt
source-wordcount: '2382'
ht-degree: 0%

---


# CTT の使用後の IMS へのプリンシパルの一括アップロード {#bulk-principal-uploading}

>[!CONTEXTUALHELP]
>id="bulk-principal-uploading"
>title="プリンシパルの一括アップロード"
>abstract="グループおよびユーザーのバルクアップロードファイルの概要と、Admin Consoleでファイルを使用して IMS でグループとユーザーを作成する方法について説明します。"
>additional-url="https://experienceleague.adobe.com/ja/docs/experience-manager-cloud-service/content/onboarding/journey/admin-console" text="AEM Admin Console ドキュメント"
>additional-url="https://adminconsole.adobe.com/" text="AEM Admin Console"

## はじめに {#introduction}

CTT と CAM を使用してコンテンツをクラウドに移行すると、AEM クラウドインスタンス上にグループが作成されますが、IMS にグループやユーザーを配置することはできません。 顧客が適切に管理するには、IMS に存在する必要があります。 幸いにも、IMS グループとユーザーを一括で作成できる機能がAdmin Consoleから提供されています。 CAM の取り込みは、この一括作成用に入力ファイルを保存することで、このプロセスを支援します。これにより、お客様は、移行プロセス全体の一部として、このAdmin Consoleのアクションを完了することができます。 グループ用とユーザー用の 2 種類のバルクアップロードファイルが作成されます。

AEM as a Cloud Service ユーザーの管理について詳しくは、[ ユーザーの管理 ](https://helpx.adobe.com/jp/enterprise/using/users.html) も参照してください。

## ファイルのアップロードに関する一般的なルール {#rules}

両方のタイプのアップロードファイルを編集および使用する際の一般的なガイドラインがいくつかあります。

* これらの手順を実行するには、まずAdmin Consoleへの管理者アクセス権を付与する必要があります
* IMS でユーザーとグループを作成するには、いくつかの異なる方法があります。  使用可能なすべてのオプションについては、[Adobe Experience Manager as a Cloud Serviceの IMS サポート ](/help/security/ims-support.md) を参照してください。  ここでは、Admin Consoleのバルクアップロード方法についてのみ説明します
* IMS では 3 つの ID タイプが使用可能です：**Adobe ID**、**Enterprise ID**、**Federated ID**。 このページの手順は、**Adobe ID** に対してのみ提供されています。  Enterprise IDまたはFederated IDを使用する必要がある場合は、[Admin Consoleの完全なドキュメントと ](https://helpx.adobe.com/jp/enterprise/using/admin-console.html)[Admin Consoleの一括グループアップロード ](https://helpx.adobe.com/jp/enterprise/using/user-groups.html) および [Admin Consoleの一括ユーザーアップロード ](https://helpx.adobe.com/enterprise/using/bulk-upload-users.html) に関する具体的なドキュメントを参照してください。  これらの 2 つの ID タイプでは、アップロードファイルの仕様が若干異なります
* 1 つの CSV フィールドで複数のエントリ（複数の製品プロファイル、複数のグループ、複数の管理者など）が許可されている場合、エントリを二重引用符で囲み、コンマ（`"profile 1,profile 2"` など）で区切る必要があります。
   * この場合、二重引用符ではなく一重引用符が使用されることがありますが、Microsoft Excel でファイルを編集すると、解析の問題が発生する可能性があります。 Excel を使用してこれらのファイルを編集する場合は、一重引用符ではなく、必ず二重引用符を使用してください。

## グループの一括アップロード {#group-upload}

#### ユースケース：グループはAEM as a Cloud Serviceに移行されましたが、これらのグループは IMS/Admin Consoleに存在しないので、Admin Consoleを通じて IMS にアップロードする必要があります。

CTT/CAM の移行を実行した後にAdmin Consoleの一括グループアップロード機能を使用するには、次の手順に従います。
1. CAM からバルクグループファイルをダウンロードします

   1. CAM で **コンテンツ転送** に移動し、「**取り込みジョブ**」を選択します。
   1. 該当する取り込みの行の省略記号（...）をクリックし、「**プリンシパルの概要を表示**」を選択します。
   1. 表示されるダイアログで、「**ファイルをダウンロード**」の下のドロップダウンリストから「**一括グループファイル**」を選択し、「**ダウンロード**」ボタンをクリックします。
   1. 結果の CSV ファイルを保存します。

1. 一括グループファイルを編集

   * 各行はアップロードするグループを表し、4 つのフィールドがあります（フィールドの名前はファイルの最初の行を構成します）。

      * _ユーザーグループ名_ - グループ名は必須で、最大 255 文字を含めることができます。  このグループ名は、IMS とAEMで同じである必要があります
      * _説明_ – このフィールドはオプションで、最大 255 文字を含めることができます
      * _ユーザーグループ管理者_ – このフィールドには、少なくとも 1 人のグループ管理者を含める必要があります。 各管理者をコンマで区切り、リストを引用符で囲むことで、複数の管理者を割り当てることができます。 各管理者のエントリには、ユーザーの ID タイプ、ハイフン、メールアドレスが含まれる必要があります。  例：
        `"Adobe ID-myAdmin@example.com,Adobe ID-myOtherAdmin@example.com"` に移行することで使用を置き換えることができます。管理者を区切るコンマの後にスペースを含めないでください。 現在Admin Consoleの組織に所属していないユーザーを（管理者として）含めることはできません
      * _割り当て済み製品プロファイル_ – このフィールドはオプションです。 複数の製品プロファイルを割り当てるには、各プロファイルをコンマで区切り、リストを引用符で囲みます。 ただし、含める製品プロファイルは、組織に合わせて既に設定されている必要があります。 製品名ではなく、製品プロファイル名を必ず指定してください。  グループに割り当てられた製品プロファイルのメンバーシップは、そのグループに配置されたすべてのユーザーに継承されます。  製品プロファイルを検索するには：
         1. Admin Consoleに移動
         1. 商品（Adobe Experience Manager as a Cloud Service）を見つけて、クリックします。
         1. 環境（インスタンス）を見つけて、クリックします。
         1. 製品プロファイルを一覧表示し、AEM環境用のプロファイルをクリックします。 製品プロファイルは上部に表示されます（例：「_AEM ユーザー – 作成者 – プログラム 12345 – 環境 012345_」）。

   * CSV を編集する際に、アプリケーションによっては保存時に引用符が追加され、処理が失敗する場合があります。 生の CSV をシンプルなテキストエディターで調べて、各フィールドの開始引用符と終了引用符が 1 つのみであることを確認することをお勧めします（スマートクォートにしないでください）。

1. Admin Consoleに一括グループファイルをアップロードします。

   1. Admin Consoleで、**ユーザー**/**ユーザーグループ** に移動します
   1. 右側の「。..」ボタンをクリックします。 メニューから **CSV でユーザーグループを追加** を選択し、アップロードする CSV を選択します。 **アップロード** をクリックします
   1. CSV が（Admin Consoleに）アップロードされたが、まだ IMS に読み込まれていないという応答が表示されます
   1. 同じ「。..」メニューに移動し、「一括操作結果 **を選択し** す。 バルクアップロード試行のリストが表示され、バルクアップロードが処理中か、成功したか、失敗したかが（**ステータス** の下に）示されます
      * 最初は、まだ完了していないことを示す「処理中」が表示されます
      * 正常に完了したら、リンク **ユーザーグループを追加** をクリックして、各行に対する簡単なステータスメッセージを表示します。
      * 代わりに失敗した場合は、**ファイル** の下の小さなアイコンをクリックすると、失敗した理由に関する詳細が表示されます。  グループ行番号は、行 1 から始まる番号が参照されます。
1. Admin Consoleを使用して、変更内容を確認します。

## ユーザーの一括アップロードと一括編集 {#bulk-user}

Admin Consoleには、ユーザーの詳細をアップロードおよび編集するための 2 つの異なるアクションが含まれています。 以下の手順は、IMS に新規ユーザーを追加する場合に実行します。 既存の IMS ユーザーを編集する手順は、[ 一括ユーザー編集 ](#user-edit) と呼ばれる次の節で説明します。

### ユーザーの一括アップロード {#user-upload}

#### ユースケース：グループはAEM as a Cloud Serviceに移行され、一括アップロードまたはその他の方法でアップロードされました。  ユーザーは IMS/Admin Consoleに存在しない可能性があるので、Admin Consoleを使用して、IMS でアップロードしグループにリンクする必要があります。

Admin Consoleのバルクユーザーアップロード機能を使用するには、次の手順に従います。

1. CAM からバルクユーザーファイルをダウンロードします
1. CAM で **コンテンツ転送** に移動し、「**取り込みジョブ**」を選択します。
1. 該当する取り込みの行の省略記号（...）をクリックし、「**プリンシパルの概要を表示**」を選択します。
1. 表示されるダイアログで、「**ファイルをダウンロード**」の下のドロップダウンリストから **一括ユーザーファイル** を選択し、「**ダウンロード**」ボタンをクリックします。
1. 結果の CSV ファイルを保存します

>[!NOTE]
>
>ファイルの作成元と同じ取り込み中に取り込まれたグループにユーザーがある場合、ユーザーは **一括ユーザーアップロード** ファイルに表示されます。 また、ユーザーが移行済みコンテンツの ACL または CUG に直接属している場合や、移行済みコンテンツの ACL または CUG に属する組み込みグループまたはローカルグループのメンバーである場合にも表示される場合があります。 これらのケースについて詳しくは、[ グループの移行 ](/help/journey-migration/content-transfer-tool/using-content-transfer-tool/group-migration.md) を参照してください。

* 一括ユーザーファイルの編集
* 各行は、アップロードするユーザーを表し、15 個のフィールドがあります（フィールドの名前はファイルの最初の行を構成します）。 一部のフィールドはオプションで、ここでは説明しません。 [ ユーザーの一括 CSV 形式 ](https://helpx.adobe.com/enterprise/using/bulk-upload-users.html#csv-format) を参照してください。  フィールドは次のとおりです。
   * _ID タイプ_ - オプション。  指定しない場合、Adobe IDとして作成されます
   * _Username_ - オプションで、Adobe IDのアップロードには使用されません
   * _ドメイン_ - オプションで、Adobe IDのアップロードには使用されません
   * _メール_ – 必須。  このメールアドレスは、ユーザーが初めてログインしたときに検証に使用されます
   * _名_ - オプション。  姓と共に複数の場所に表示されるので、使用する必要があります
   * _姓_ - オプション。  複数の場所に表示されるので、使用する必要があります
   * _国コード_ - オプションで、Adobe ID アップロードには使用されません
   * _ID_ - オプションで、Adobe ID アップロードには使用されません
   * _製品設定_ - オプション。 このフィールドは、ユーザーが属するすべてのグループからも継承されます
   * _管理者ロール_ - オプション。 ユーザーが管理者の場合は、このフィールドを使用します。 詳しくは [ 一括ユーザー CSV 形式 ](https://helpx.adobe.com/enterprise/using/bulk-upload-users.html#csv-format) を参照してください
   * _製品設定が適用されました_ - オプション。  詳しくは、[ 一括ユーザー CSV 形式 ](https://helpx.adobe.com/enterprise/using/bulk-upload-users.html#csv-format) を参照してください。 このフィールドは、ユーザーが属するすべてのグループからも継承されます
   * _ユーザーグループ_ - オプション。 ユーザーがメンバーとして割り当てられるグループのリスト。 各グループは、既存の IMS グループである必要があります。 CAM からバルクユーザーファイルをダウンロードすると、このフィールドには、移行前にユーザーが（直接的または間接的に）メンバーであった IMS 対応グループの名前が事前に入力されます
   * _ユーザーグループが管理されました_ - オプション。  詳しくは、[ 一括ユーザー CSV 形式 ](https://helpx.adobe.com/enterprise/using/bulk-upload-users.html#csv-format) を参照してください。 このフィールドは、ユーザーが属するすべてのグループからも継承されます
   * _製品が管理されました_ - オプション。  詳しくは、[ 一括ユーザー CSV 形式 ](https://helpx.adobe.com/enterprise/using/bulk-upload-users.html#csv-format) を参照してください。 このフィールドは、ユーザーが属するすべてのグループからも継承されます
   * _契約管理_ - オプション。  詳しくは [ 一括ユーザー CSV 形式 ](https://helpx.adobe.com/enterprise/using/bulk-upload-users.html#csv-format) を参照してください
   * _開発者アクセス_ - オプション。  詳しくは [ 一括ユーザー CSV 形式 ](https://helpx.adobe.com/enterprise/using/bulk-upload-users.html#csv-format) を参照してください
   * _自動割り当て製品_ - オプション。  詳しくは [ 一括ユーザー CSV 形式 ](https://helpx.adobe.com/enterprise/using/bulk-upload-users.html#csv-format) を参照してください
   * CSV を編集する際に、アプリケーションによっては保存時に引用符が追加され、処理が失敗する場合があります。 生の CSV を単純なテキストエディターで調べて、各フィールドの開始と終了の引用符が 1 つのみであることを確認することをお勧めします（スマートクォートにしないでください）

1. Admin Consoleにバルクユーザーファイルをアップロードします

   1. Admin Consoleで、「ユーザー」に移動します。
   1. 「**CSV によるユーザーの追加**」ボタンをクリックします
   1. CAM からダウンロードしたバルクユーザー用 CSV ファイルをドラッグ&amp;ドロップまたは選択
   1. 「**アップロード** ボタンをクリックします
   1. CSV が（Admin Consoleに）アップロードされたが、まだ IMS に読み込まれていないという返信が届きます。

1. 右側の「。..」メニューに移動し、「一括操作結果 **を選択し** す。  バルクアップロード試行のリストが表示され、バルクアップロードが処理中か、成功したか、失敗したかが（**ステータス** の下に）表示されます。

   * 最初は、まだ完了していないことを示す「処理中」が表示されます
   * 正常に完了したら、リンク **ユーザーを追加** をクリックして、各行のシンプルなステータスメッセージを表示します
   * 代わりに失敗した場合は、**ファイル** の下の小さなアイコンをクリックすると、失敗した理由に関する詳細が表示されます。 ユーザ行番号は、行 1 から始まる参照です。

1. Admin Consoleを使用して、変更内容を確認します。

>[!NOTE]
>
>非ワイプ取り込み後、以前に移行されて IMS で作成されたユーザーが一括ユーザーアップロードファイルに表示される場合があります。 これには多くの理由が考えられます。 この場合、ユーザーの再度アップロードは失敗します。 代わりに、一括ユーザーアップロードファイルからユーザーを削除してみてください。ユーザーを別のグループに追加する必要がある場合は、以下に示すように一括ユーザー編集ファイルを使用します。

### ユーザーの一括編集 {#user-edit}

#### ユースケース：グループおよびユーザーはAEM as a Cloud Serviceに移行され、一括アップロードまたはその他の方法でアップロードされました。 既存の IMS グループへの追加など、複数のユーザーに対して一度にいくつかの変更を加える必要があります。

Admin Consoleの一括ユーザー編集機能を使用するには、次の手順に従います。

1. Admin Console からの一括ユーザーファイルのダウンロード

   1. Admin Consoleで、「ユーザー」に移動します。
   1. 右側の「。..」ボタンをクリックします。  メニューから **CSV でユーザー詳細を編集** を選択します
   1. 「**CSV テンプレートをダウンロード**」をクリックし、「**現在のユーザー**」を選択します。  ローカルのダウンロードフォルダーに CSV ファイルが表示されます。

1. 一括ユーザーファイルの編集

   1. Admin Consoleで、「ユーザー」に移動します。
   1. テキストエディター（推奨）または Excel などのスプレッドシートアプリケーションを使用して、CSV ファイルを編集します。 アプリケーションを使用すると、データに予期しない変更が加えられる可能性があるので、すべての編集を行った後で、テキストエディターを使用してファイルの形式を確認することをお勧めします
   1. このファイルのフィールドの説明は、一括ユーザーアップロードの下の上記と同じです
   1. 編集されていないすべてのユーザーを削除
   1. 「ユーザーグループ」フィールドを変更する場合は、現在のグループはそのままにし、必要に応じて新しいグループを追加します。 既存のグループを削除すると、IMS でそのグループからユーザーが削除されます
   1. CSV を編集する際に、アプリケーションによっては保存時に引用符が追加され、処理が失敗する場合があります。 生の CSV ファイルを単純なテキストエディターで調べて、各フィールドの開始引用符と終了引用符が 1 つのみであることを確認することをお勧めします（スマートクォートにしないでください）

1. Admin Consoleにバルクユーザーファイルをアップロードします

   1. Admin Consoleで、「ユーザー」に移動します。
   1. 右側の「。..」ボタンをクリックします。 メニューから **CSV でユーザー詳細を編集** を選択します
   1. 編集したバルクユーザー CSV ファイルをドラッグ&amp;ドロップまたは選択
   1. 「アップロード」ボタンをクリックします
   1. CSV が（Admin Consoleに）アップロードされたが、まだ IMS に読み込まれていないという応答が表示されます
   1. 右側の「。..」メニューに移動し、「一括操作結果 **を選択し** す。 バルクアップロードの試行のリストが表示され、バルクアップロードが処理中、成功、失敗のどれであったかが（ステータスの下に）示されます。

   * 最初は、まだ完了していないことを示す「処理中」が表示されます
   * 正常に完了したら、「**ユーザーの詳細を編集**」リンクをクリックして、各行のシンプルなステータスメッセージを表示します
   * 代わりに失敗した場合は、**ファイル** の下の小さなアイコンをクリックすると、失敗した理由に関する詳細が表示されます。 ユーザ行番号は、行 1 から始まる参照です。

1. Admin Consoleを使用して、変更内容を確認します。
