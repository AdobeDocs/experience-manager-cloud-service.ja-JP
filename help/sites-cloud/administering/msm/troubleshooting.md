---
title: MSM の問題のトラブルシューティングと FAQ
description: MSM に関する最も一般的な問題のトラブルシューティング方法と、MSM に関する最も一般的な質問に対する回答について説明します。
feature: Multi Site Manager
role: Admin
exl-id: 50f02f4f-a347-4619-ac90-b3136a7b1782
solution: Experience Manager Sites
source-git-commit: 10580c1b045c86d76ab2b871ca3c0b7de6683044
workflow-type: ht
source-wordcount: '762'
ht-degree: 100%

---

# MSM の問題のトラブルシューティングと FAQ {#troubleshooting-msm}

## トラブルシューティングの最初の手順 {#first-steps}

MSM で誤った動作やエラーと思われる問題が発生している場合は、トラブルシューティングを開始し、詳細なトラブルシューティングをおこなう前に、以下を確認してください。

* 問題や質問が既に解決されている可能性があるので、[MSM に関する FAQ](#faq) を確認してください。
* いくつかのヒントと、特定の誤解を解く説明については、[MSM のベストプラクティス](best-practices.md)を参照してください。

## ブループリントとライブコピーに関する詳細な情報を見つける {#advanced-info}

MSM は、リソース URL のセレクターと共に要求できる複数のサーブレットを登録します。これらは UI で使用されますが、ページに対する高度な計算済み MSM ステータスを追加で直接表示するために、直接要求することもできます。

1. `http://<host>:<port>/content/path/to/bluprint/page.blueprint.json?&maxSize=500&advancedStatus=true&returnRelationships=true&msm%3Atrigger=ROLLOUT`
   * ブループリントページでこの情報を使用して、リンクされているすべてのライブコピーのリストと、追加のライブコピーのステータス情報を取得します。
   * 例：
     `http://localhost:4502/content/wknd/language-masters/en.blueprint.json?&maxSize=500&advancedStatus=true&returnRelationships=true&msm%3Atrigger=ROLLOUT`

1. `http://<host>:<port>/content/path/to/livecopy/page.msm.json`
   * ライブコピーページでこれを使用して、ブループリントページとの接続に関する詳細情報を取得します。ページがライブコピーでない場合は、何も返されません。
   * 例：
     `http://localhost:4502/content/wknd/ca/en.msm.json`

これらのサーブレットは、`com.day.cq.wcm.msm` ロガーを介して DEBUG ログメッセージを生成します。これも役に立ちます。

## リポジトリ内の MSM 固有の情報を確認する {#checking-repo}

以前のサーブレットは、MSM 固有のノードと Mixin に基づいて計算済みの情報を返していました。情報は、次の方法でリポジトリに格納されます。

* `cq:LiveSync` mixin タイプ
   * `jcr:content`ノードで設定され、ルートのライブコピーページを定義します。
   * これらのページには、タイプ `cq:LiveCopy` の `cq:LiveSyncConfig` 子ノードがあり、以下のプロパティを介してライブコピーに関する基本情報と必須情報が含まれています。
      * `cq:master` は、ライブコピーのブループリントページを指します。
      * `cq:rolloutConfigs` は、ライブコピーに適用されたアクティブなロールアウト設定を示します。
      * このルートライブコピーページの子ページが、ライブコピーに含まれる場合、`cq:isDeep` は、true になります。
* `cq:LiveRelationship` mixin タイプ
   * すべてのライブコピーページの `jcr:content` ノードにこのような mixin タイプがあります。
   * そうでない場合は、ライブコピーアクション（作成またはロールアウト）以外のオーサリングインターフェイスを使用して、ある時点でのページがデタッチまたは手動で作成されています。
* `cq:LiveSyncCancelled` mixin タイプ
   * 中断されたライブコピーページの `jcr:content` ノードに追加されました。
   * サスペンションが子ページに対しても有効な場合、同じノードで `cq:isCancelledForChildren` プロパティが true に設定されます。

これらのプロパティに表示される情報は UI に反映される必要がありますが、トラブルシューティングをおこなう場合は、MSM アクションが発生したときにリポジトリで直接 MSM の動作を確認すると便利です。

また、リポジトリでクエリを実行し、特定の状態にあるページのセットを見つけるためにも、これらのプロパティを知ることが役立ちます。例：

* `select * from cq:LiveSync` は、すべてのライブコピーのルートページを返します。

## FAQ {#faq}

MSM とライブコピーに関するよくある質問を以下に示します。

### MSM ロールアウト中に一部のプロパティ（タイトル、注釈など）が更新されないのはなぜですか？ {#missing-properties}

MSM 同期アクションは詳細に設定できます。ロールアウト中に変更されるプロパティまたはコンポーネントは、それらの設定のプロパティに直接依存します。

このトピックについて詳しくは、[MSM のベストプラクティス](best-practices.md)を参照してください。

### 作成者グループのロールアウト権限を削除する方法を教えてください。 {#remove-rollout-permissions}

Adobe Experience Manager プリンシパル（ユーザーまたはグループ）に対して設定または削除できる&#x200B;**ロールアウト**&#x200B;権限はありません。

別の方法として、次のいずれかを実行できます。

* 製品 UI をカスタマイズし、特定のプリンシパルのロールアウトアクションを非表示にする。
* ロールアウトを許可されていない作成者に対し、ライブコピーツリーからの書き込み権限を削除する。

### サフィックス「_msm_moved」の付いたライブコピーページが表示されるのはなぜですか。 {#moved-pages}

ブループリントページがロールアウトされると、ライブコピーページが更新されるか、存在しない場合はライブコピーページが作成されます。例えば、初めてロールアウトされたときや、ライブコピーページが手動で削除されたときなどです。

ただし、後者の場合、`cq:LiveRelationship` プロパティのないページが同じ名前で存在する場合は、ライブコピーページが作成される前に、このページの名前が変更されます。

デフォルトでは、ロールアウトは、リンクされたライブコピーページに、ブループリントの更新がロールアウトされると想定します。あるいは、ライブコピーページの作成時には、ページが存在しないと想定します。

「スタンドアロン」ページが見つかった場合、MSM はこのページの名前を変更し、リンクされた別のライブコピーページを作成することを選択します。

ライブコピーサブツリー内のこのようなスタンドアロンページは通常、**分離**&#x200B;操作の結果として発生するか、以前のライブコピーページを作成者が手動で削除して、同じ名前で再作成した場合に発生します。

これを回避するには、**分離**&#x200B;の代わりに、ライブコピーの&#x200B;**休止**&#x200B;機能を使用します。**分離**&#x200B;アクションについて詳しくは、[この記事](creating-live-copies.md)を参照してください。
