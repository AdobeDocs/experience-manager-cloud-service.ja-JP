---
title: MSM の問題のトラブルシューティングと FAQ
description: MSM に関する最も一般的な問題のトラブルシューティング方法と、MSM に関する最も一般的な質問への回答を得る方法を説明します。
feature: Multi Site Manager
role: Admin
exl-id: 50f02f4f-a347-4619-ac90-b3136a7b1782
source-git-commit: c31f43986e44099a3a36cc6c9c2f1a7251499ffb
workflow-type: tm+mt
source-wordcount: '767'
ht-degree: 52%

---

# MSM の問題のトラブルシューティングと FAQ {#troubleshooting-msm}

## トラブルシューティングの最初の手順 {#first-steps}

MSM で誤った動作やエラーと思われる問題が発生している場合は、トラブルシューティングを開始し、詳細なトラブルシューティングをおこなう前に、以下を確認してください。

* 次を確認します。 [MSM に関する FAQ](#faq) あなたの問題や質問は既にそこで解決されているかもしれません。
* 次を確認します。 [MSM のベストプラクティスに関する記事](best-practices.md) いくつかの誤解の説明と共に、そこでいくつかのヒントが提供されているので、

## ブループリントとライブコピーに関する詳細な情報を見つける {#advanced-info}

MSM は、リソース URL のセレクターと共に要求できる複数のサーブレットを登録します。これらは UI で使用されますが、ページに対する高度な計算済み MSM ステータスを追加で直接表示するために、直接要求することもできます。

1. `http://<host>:<port>/content/path/to/bluprint/page.blueprint.json?&maxSize=500&advancedStatus=true&returnRelationships=true&msm%3Atrigger=ROLLOUT`
   * ブループリントページでこの情報を使用して、リンクされているすべてのライブコピーのリストと、追加のライブコピーのステータス情報を取得します。
   * 次に例を示します。
     `http://localhost:4502/content/wknd/language-masters/en.blueprint.json?&maxSize=500&advancedStatus=true&returnRelationships=true&msm%3Atrigger=ROLLOUT`

1. `http://<host>:<port>/content/path/to/livecopy/page.msm.json`
   * ライブコピーページでこれを使用して、ブループリントページとの接続に関する詳細情報を取得します。ページがライブコピーでない場合は、何も返されません。
   * 次に例を示します。
     `http://localhost:4502/content/wknd/ca/en.msm.json`

これらのサーブレットは、`com.day.cq.wcm.msm` ロガーを介して DEBUG ログメッセージを生成します。これも役に立ちます。

## リポジトリ内の MSM 固有の情報を確認する {#checking-repo}

以前のサーブレットは、MSM 固有のノードと Mixin に基づいて計算済みの情報を返していました。情報は、次の方法でリポジトリに格納されます。

* `cq:LiveSync` mixin タイプ
   * `jcr:content`ノードで設定され、ルートのライブコピーページを定義します。
   * これらのページには、 `cq:LiveSyncConfig` タイプの子ノード `cq:LiveCopy` 次のプロパティを使用して、ライブコピーの基本情報と必須情報を含む
      * `cq:master` は、ライブコピーのブループリントページを指します。
      * `cq:rolloutConfigs` は、ライブコピーに適用されたアクティブなロールアウト設定を示します。
      * このルートライブコピーページの子ページが、ライブコピーに含まれる場合、`cq:isDeep` は、true になります。
* `cq:LiveRelationship` mixin タイプ
   * すべてのライブコピーページの `jcr:content` ノードにこのような mixin タイプがあります。
   * 表示されない場合、ライブコピーアクション（作成またはロールアウト）の外部にあるオーサリングインターフェイスを使用して、ある時点でページが分離または手動で作成されています。
* `cq:LiveSyncCancelled` mixin タイプ
   * 中断されたライブコピーページの `jcr:content` ノードに追加されました。
   * サスペンションが子ページに対しても有効な場合、同じノードで `cq:isCancelledForChildren` プロパティが true に設定されます。

これらのプロパティに表示される情報は UI に反映される必要がありますが、トラブルシューティングをおこなう場合は、MSM アクションが発生したときにリポジトリで直接 MSM の動作を確認すると便利です。

これらのプロパティを把握すると、リポジトリに対してクエリを実行し、特定の状態にあるページのセットを見つけるのに役立ちます。 例：

* `select * from cq:LiveSync` は、すべてのライブコピーのルートページを返します。

## FAQ {#faq}

MSM とライブコピーに関するよくある質問を以下に示します。

### MSM ロールアウト中に一部のプロパティ（タイトル、注釈など）が更新されないのはなぜですか？ {#missing-properties}

MSM 同期アクションは詳細に設定できます。ロールアウト時に変更されるプロパティやコンポーネントは、これらの設定のプロパティに直接依存します。

このトピックの詳細については、[こちらの記事](best-practices.md)を参照してください。

### 作成者グループのロールアウト権限を削除する方法を教えてください。  {#remove-rollout-permissions}

次の項目はありません： **ロールアウト** Adobe Experience Managerプリンシパル（ユーザーまたはグループ）に対して設定または削除できる権限。

別の方法として、次のいずれかを実行できます。

* 製品 UI をカスタマイズし、特定のプリンシパルのロールアウトアクションを非表示にする。
* ロールアウトを許可されていない作成者のライブコピーツリーから書き込み権限を削除します。

### サフィックス「_msm_moved」の付いたライブコピーページが表示されるのはなぜですか  {#moved-pages}

ブループリントページがロールアウトされると、ライブコピーページが更新されるか、ライブコピーページが存在しない場合は作成されます。 例えば、初めてロールアウトされたときや、ライブコピーページが手動で削除されたときなどです。

ただし、後者の場合、 `cq:LiveRelationship` プロパティが同じ名前で存在する場合、ライブコピーページを作成する前にこのページの名前が変更されます。

デフォルトでは、ロールアウトは、ブループリントの更新がロールアウトされる、リンクされたライブコピーページを期待します。 または、ライブコピーページの作成時には、ページがまったく表示されないことが予想されます。

「スタンドアロン」ページが見つかった場合、MSM はこのページの名前を変更し、別のリンクされたライブコピーページを作成します。

ライブコピーサブツリー内のこのようなスタンドアロンページは、通常、 **分離** 操作を実行したか、元のライブコピーページが作成者によって手動で削除され、同じ名前で再作成されました。

これを避けるには、ライブコピーを使用します。 **休止** の代わりに機能 **分離**. 詳細は、 **分離** アクションは、 [この記事を参照してください。](creating-live-copies.md)
