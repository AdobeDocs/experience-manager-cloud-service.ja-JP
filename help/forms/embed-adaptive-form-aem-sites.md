---
title: アダプティブフォームをAEM Sitesページに埋め込む
seo-title: Hwo to add an Adaptive Form to an AEM Sites page?
description: AEM Formsコンテナコンポーネントを使用すると、AEM Sitesページからフォームに入力して送信する際に、AEM SitesページにアダプティブFormsを追加したり、ページに埋め込んだりすることができます。
feature: Adaptive Forms
source-git-commit: dac38b2a90b2a1969e5332b8a658e8f1e0e5eccb
workflow-type: tm+mt
source-wordcount: '1036'
ht-degree: 77%

---

# アダプティブフォームをAEMサイトページに埋め込む {#embed-an-adaptive-form-to-aem-sites-page}

## 概要 {#overview}

AEM Forms を使用すると、フォーム開発者は AEM サイトページまたは AEM の外側にホストされた Web ページにアダプティブフォームをシームレスに埋め込むことができます。埋め込まれたアダプティブフォームではすべての機能を使用できるため、ユーザーは、ページから移動することなくフォームを記入および送信できます。これにより、ユーザーは web ページのその他のエレメントとの整合性を保つことができ、同時にフォームとの相互作用も保つことができます。

<!-- For information about embedding an Adaptive Form in an external web page, see [Embed Adaptive Form in external web page](/help/forms/using/embed-adaptive-form-external-web-page.md). -->

AEM Sites ページでは、以下を使用してアダプティブフォームを追加できます。

* **[AEM Form コンテナコンポーネント](/help/forms/using/embed-adaptive-form-aem-sites.md#af-component)**
AEM Forms では、サイトページに追加できるコンポーネントを提供します。AEM Forms コンテナコンポーネントを使用することで、アダプティブフォームを埋め込むことが可能になります。

* **[アセットブラウザー](/help/forms/using/embed-adaptive-form-aem-sites.md#asset-browser)**
すべてのフォームは Assets で使用できます。 フォームは、アセットとしてページ上にドラッグ＆ドロップすることができます。

## 前提条件 {#prerequisites}

編集可能なテンプレートを使用するAEM Sitesページにアダプティブフォームを埋め込むには、AEMフォームコンポーネントが、関連するテンプレートで許可されるコンポーネントとして設定されていることを確認します。 詳しくは、「**ページテンプレートの作成**」の「[ポリシーとプロパティ（レイアウトコンテナ）](/help/sites-authoring/templates.md)」を参照してください。

サイトページがスタティックテンプレートを使用している場合は、それをサイトページの段落システムから設定する必要があります。詳しくは、[デザインモードでのコンポーネントの設定](/help/sites-authoring/default-components-designmode.md)を参照してください。

## アダプティブフォームの埋め込み {#af-component}

AEM Forms コンテナコンポーネントを使用してアダプティブフォームを埋め込むには：

1. アダプティブフォームの埋め込み先の AEM Sites ページを、編集モードで開きます。
1. コンポーネントブラウザーパネルから、そのページ上に AEM Forms コンテナコンポーネントをドラッグ＆ドロップします。または、アセットブラウザーでアダプティブフォームを検索して、AEM Sites ページにドラッグ＆ドロップします。これにより、AEM Forms コンテナにフォームが埋め込まれます。新しいアダプティブフォームを作成して追加するか、既存のアダプティブフォームを埋め込むことができます。

   >[!NOTE]
   >
   >1 つのページ上の複数の AEM Forms コンテナコンポーネントはサポートされていません。

1. 新しいフォームを作成して埋め込むには、コンポーネントツールバーで **フォームを作成** アイコン 新しいフォームを作成するウィンドウが開きます。

1. サイトページに埋め込まれた AEM Forms コンテナコンポーネントをタップし、アクションバーの ![settings_icon](assets/settings_icon.png) をタップします。**[!UICONTROL AEM Forms コンテナを編集]**&#x200B;ダイアログが開きます。
1. AEM Forms コンテナを編集ダイアログで、次の設定を行います。

   <!-- * **Asset Type:** Select the type of asset to embed. The options are Adaptive Form -->
   * **アセットパス**： 埋め込むアダプティブフォームを閲覧して選択します。また、アセットブラウザーからドロップすると、自動的に入力されます。
   * **投稿送信** :フォームの送信時にトリガーするアクションを選択します。 お礼のメッセージを表示するため、「ありがとうございます」ページを設けることができます。

      * **「ありがとうございます」メッセージ**：フォーム送信時に表示するメッセージをリッチテキストエディターで書き込みます。このオプションは、「ありがとうございます」メッセージの表示が有効な場合にのみ選択できます。
      * **「ありがとうございます」ページ**： フォームの送信時に表示するページを参照して選択します。このオプションは、「ありがとうございます」ページの表示が有効な場合にのみ選択できます。
         * **「ありがとうございます」ページにリダイレクトします。**:アダプティブフォームが埋め込まれたページを「ありがとうございます」ページに置き換えるオプションを有効にします。 この名前にすると、AEM Formsコンテナ内のアダプティブフォームの代わりに「ありがとうございます」ページが表示され、ページ内の基になるサイトが更新されません。 このオプションは、「ありがとうございます」ページの表示が有効な場合にのみ選択できます。
   * **ページ言語を使用**:アダプティブフォームのロケールではなく、AEM Sitesページのローカルを使用します。
   * **フォームにフォーカスを設定**:「 」を選択して、アダプティブフォームの最初のフィールドにフォーカスを設定します。

   * **テーマ**： アダプティブフォームのコンポーネントのスタイルを定義するテーマを選択します。スタイル設定には、フォントスタイル、背景色、サイズ、配置など、外観のプロパティが含まれます。
   * **高さ**：コンテナの高さを指定します。自動でコンテナのサイズを調整するには、空白のままにします。
   * **CSS クライアントライブラリ**：CSS クライアントライブラリへのパスを指定します。

1. 設定を保存します。これで、アダプティブフォームがページに埋め込まれました。

## 埋め込まれたアダプティブフォームの公開 {#publishing-embedded-adaptive-form}

AEMサイトページに埋め込まれたアダプティブフォームを公開する際の以下のシナリオを考えてみましょう。

* 初めて AEM Sites ページを公開する場合で、かつアダプティブフォームが埋め込まれている場合は、サイトページに加え、埋め込みアセットも公開します。
* 公開済みサイトページに埋め込まれたアダプティブフォームのみを変更した場合は、元のアセットを公開します。変更内容は、公開されたサイトページに反映されます。公開されたサイトページにはアセットへの参照情報が含まれているため、ページを再公開する必要はありません。
* サイトページに加え、埋め込まれたアダプティブフォームを変更した場合は、サイトページと埋め込みアセットを再公開します。

## 埋め込まれたアダプティブフォームを変更する  {#modifying-embedded-adaptive-form}

AEM サイトページには、AEM Forms コンテナ内のアダプティブフォームへの参照情報が保存されます。したがって、元のアダプティブフォームで設定された設定やプロパティ（テーマ、スタイル、送信アクションなど）は、埋め込まれた形で保持されます。

埋め込まれたアダプティブフォームの設定やプロパティを変更するには、次のいずれかの操作を行います。

* アダプティブフォーム内の元のフォームを各エディターで開き、変更します。
* 編集モードでサイトページ内からアダプティブフォームをタップし、続けて「**[!UICONTROL 新しいウィンドウで編集]**」をタップします。元のフォームは、修正可能な編集モードで開きます。

>[!NOTE]
>
>元のフォームに加えた変更は、埋め込まれたフォームに自動的に反映されます。ただし、公開済みページに変更内容を反映するために、アダプティブフォームまたはサイトページを再公開する必要があります。

## 注意点とベストプラクティス {#considerations-and-best-practices}

AEM サイトページにアダプティブフォームを埋め込む際は、以下の点に留意してください。

* 元のフォームにあったヘッダーとフッターは、埋め込まれたフォームには含まれません。
* ユーザードラフトと埋め込みフォームの送信はサポートされており、フォームポータル上の「下書き」タブや「送信済みフォーム」タブに表示されます。
* 元のフォームに構築された送信アクションは、埋め込まれたフォームでも保持されます。
* 元のフォームに構築されたのエクスペリエンスのターゲット設定と A/B テストは、埋め込まれたフォームでは動作しません。ただし、ユーザープロファイルに基づいて異なるフォームを表示するよう、サイトページ上でエクスペリエンスのターゲット設定を使用することはできます。
* 元のフォームに Adobe Analytics が設定されている場合、埋め込まれたフォームの分析データは Adobe Analytics でキャプチャされます。ただし、フォームの分析レポートでは使用できません。
