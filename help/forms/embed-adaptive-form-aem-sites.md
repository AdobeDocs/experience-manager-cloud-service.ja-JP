---
title: AEM Sites ページへのアダプティブフォームの埋め込み
seo-title: Hwo to add an Adaptive Form to an AEM Sites page?
description: アダプティブフォーム - 埋め込みコンテナコンポーネントを使用すると、AEM Sites ページにアダプティブフォームを追加または埋め込んで、AEM Sites ページを離れずにフォームに入力してフォームを送信することができます。
feature: Adaptive Forms
exl-id: 359b05e8-d8c1-4a77-9e70-6f6b6e668560
source-git-commit: b6dcb6308d1f4af7a002671f797db766e5cfe9b5
workflow-type: tm+mt
source-wordcount: '1174'
ht-degree: 99%

---

# AEM Sites ページへのアダプティブフォームの埋め込み {#embed-an-adaptive-form-to-aem-sites-page}

| バージョン | 記事リンク |
| -------- | ---------------------------- |
| AEM 6.5 | [ここをクリックしてください](https://experienceleague.adobe.com/docs/experience-manager-65/forms/adaptive-forms-basic-authoring/embed-adaptive-form-aem-sites.html) |
| AEM as a Cloud Service | この記事 |


## 概要 {#overview}

AEM Forms を使用すると、フォーム開発者は AEM サイトページまたは AEM の外側にホストされた web ページにアダプティブフォームをシームレスに埋め込むことができます。埋め込まれたアダプティブフォームではすべての機能を使用できるため、ユーザーは、ページから移動することなくフォームに記入およびフォームを送信できます。これにより、ユーザーは web ページのその他の要素との整合性を保つことができ、同時にフォームとの相互作用も保つことができます。



<!-- For information about embedding an Adaptive Form in an external web page, see [Embed Adaptive Form in external web page](/help/forms/using/embed-adaptive-form-external-web-page.md). -->

AEM Sites ページでは、以下を使用してアダプティブフォームを追加できます。

* **アダプティブフォーム - 埋め込みコンポーネント**
アダプティブフォーム - 埋め込みコンポーネントを使用すると、AEM Sites 作成者は AEM Sites ページ内にある既存のアダプティブフォームを含めることができ、アダプティブフォームの再利用性が向上します。既存のアダプティブフォームは、スタンドアロンで使用することも、サイトページに埋め込むこともできます。この統合により、顧客が作成済みのアダプティブフォームを再利用する便利な方法が提供されます。

* **アセットブラウザー**
すべてのフォームは「アセット」の下に表示されます。フォームは、アセットとしてページ上にドラッグ＆ドロップすることができます。

## 前提条件 {#prerequisites}

編集可能なテンプレートを使用した AEM Sites ページにアダプティブフォームを埋め込むには、AEM Form コンポーネントが、関連するテンプレートで許可されたコンポーネントとして設定されていることを確認します。

**アダプティブフォーム - 埋め込みコンポーネント**&#x200B;が AEM Sites ページの&#x200B;**コンポーネントブラウザーパネル**&#x200B;に表示されない場合は、次の手順（ビデオを参照）を実行します。

>[!VIDEO](https://video.tv.adobe.com/v/3410544)

Sites ページで静的テンプレートを使用している場合は、それをサイトページの段落システムで設定する必要があります。

## アダプティブフォームの埋め込み {#af-component}

**[!UICONTROL アダプティブフォーム - 埋め込み]**&#x200B;コンポーネントを使用してアダプティブフォームを埋め込むには：

1. アダプティブフォームの埋め込み先の AEM Sites ページを、編集モードで開きます。
1. コンポーネントブラウザーパネルから、[!UICONTROL アダプティブフォーム - 埋め込み]コンポーネントをドラッグしてページ上にドロップします。または、アセットブラウザーでアダプティブフォームを検索して、AEM Sites ページにドラッグ＆ドロップします。新しいアダプティブフォームを追加することも、既存のアダプティブフォームを埋め込むこともできます。

   >[!NOTE]
   >
   >1 つのページ上に複数のアダプティブフォーム - 埋め込みコンポーネントを配置することはサポートされていません。

1. 新しいフォームを作成して埋め込むには、コンポーネントツールバーで&#x200B;**フォームを作成**&#x200B;アイコンをタップします。フォームを作成するためのウィンドウが開きます。

1. Sites ページに埋め込まれたアダプティブフォーム - 埋め込みコンポーネントをタップし、アクションバーの ![settings_icon](assets/settings_icon.png) をタップします。**[!UICONTROL アダプティブフォーム - 埋め込みを編集]**&#x200B;ダイアログが開きます。
1. アダプティブフォーム - 埋め込みを編集ダイアログで、次の設定を行います。

   **アセットのタイプ：**&#x200B;埋め込むアセットのタイプを選択します。
   * **アセットパス**： 埋め込むアダプティブフォームを参照して選択します。また、アセットブラウザーからドロップすると、自動的に入力されます。
   * **送信後処理**：フォーム送信時にトリガーするアクションを選択します。お礼のメッセージを表示するため、「ありがとうございます」ページを設けることができます。
      * 表示

      * **「ありがとうございます」メッセージ**：フォーム送信時に表示するメッセージをリッチテキストエディターで書き込みます。このオプションは、「ありがとうございます」メッセージの表示が有効な場合にのみ選択できます。
      * **「ありがとうございます」ページ**： フォームの送信時に表示するページを参照して選択します。このオプションは、ありがとうページの表示が有効な場合にのみ選択できます。
         * **ありがとうページにリダイレクト**：このオプションを有効にすると、アダプティブフォームが埋め込まれたページはありがとうページに置き換わります。 このオプションを有効にしない場合は、ありがとうページは、[!UICONTROL アダプティブフォーム - 埋め込み]コンポーネントのアダプティブフォームを置き換え、ベースとなる Sites ページは更新されません。このオプションは、ありがとうページの表示が有効な場合にのみ選択できます。
   * **ページ言語を使用**：アダプティブフォームのロケールではなく、AEM Sites ページのロケールを使用します。
   * **フォームにフォーカスを設定**：アダプティブ フォームの最初のフィールドにフォーカスを設定する場合に選択します。
   * **テーマ**： アダプティブフォームのコンポーネントのスタイルを定義するテーマを選択します。スタイル設定には、フォントスタイル、背景色、サイズ、配置など、外観のプロパティが含まれます。
   * **フォームがフレームの幅全体をカバー**：オンにすると、iframe はフォームのレンダリングには使用されません。
   * **高さ**：コンテナの高さを指定します。コンテナのサイズを自動的に変更するには、空白のままにします。
   * **CSS クライアントライブラリ**：CSS クライアントライブラリへのパスを指定します。

1. 設定を保存します。これで、アダプティブフォームがページに埋め込まれました。

AEM サイトでは、アダプティブフォーム - 埋め込みコンポーネントを使用して、その場でアダプティブフォームを作成することもできます。AEM Sites ページで **アダプティブフォーム - 埋め込みコンポーネント**&#x200B;を使用してアダプティブフォームを作成するには、次の手順に従います。
1. アダプティブフォームの埋め込み先の AEM Sites ページを、編集モードで開きます。
1. コンポーネントブラウザーパネルからアダプティブフォーム - 埋め込みコンポーネントをドラッグして、そのページ上にドロップします。
1. **プラス**&#x200B;アイコンをクリックすると、フォーム作成ウィザードにリダイレクトされます。

   ![アダプティブフォーム - 埋め込みコンポーネント](/help/forms/assets/aemformcontainer.png)

1. これで、[!UICONTROL AEM Forms コンテナコンポーネント]を使用して AEM Sites ページにアダプティブフォームを埋め込むことができました。

## 埋め込まれたアダプティブフォームの公開 {#publishing-embedded-adaptive-form}

ここでは、AEM Sites ページに埋め込まれたアダプティブフォームを公開するための、次のようなシナリオを考えてみます。

* 初めて AEM Sites ページを公開する場合で、かつページにアダプティブフォームが埋め込まれている場合は、Sites ページに加え、埋め込みアセットも公開します。
* 公開済みサイトページに埋め込まれたアダプティブフォームのみを変更した場合は、元のアセットを公開します。変更内容は、公開されたサイトページに反映されます。公開されたサイトページにはアセットへの参照情報が含まれているため、ページを再公開する必要はありません。
* サイトページに加え、埋め込まれたアダプティブフォームを変更した場合は、サイトページと埋め込みアセットを再公開します。

## 埋め込まれたアダプティブフォームを変更する  {#modifying-embedded-adaptive-form}

AEM Sites ページには、アダプティブフォーム - 埋め込み内のアダプティブフォームへの参照が保持されます。したがって、元のアダプティブフォームで指定された設定やプロパティ（テーマ、スタイル、送信アクションなど）は、埋め込まれたアダプティブフォームで保持されます。

埋め込まれたアダプティブフォームの設定やプロパティを変更するには、次のいずれかの操作を行います。

* それぞれのエディターのアダプティブフォームで元のフォームを開いて、変更します。
* 編集モードでサイトページ内からアダプティブフォームをタップし、続けて「**[!UICONTROL 新しいウィンドウで編集]**」をタップします。元のフォームは、修正可能な編集モードで開きます。

>[!NOTE]
>
>元のフォームに加えた変更は、埋め込まれたフォームに自動的に反映されます。ただし、公開済みページに変更内容を反映するために、アダプティブフォームまたはサイトページを再公開する必要があります。

## 注意点とベストプラクティス {#considerations-and-best-practices}

AEM Sites ページにアダプティブフォームを埋め込む際は、以下の点に留意してください。

* 元のフォームにあったヘッダーとフッターは、埋め込まれたフォームには含まれません。
* ユーザードラフトと埋め込みフォームの送信はサポートされており、フォームポータル上の「下書き」タブや「送信済みフォーム」タブに表示されます。
* 元のフォームに設定された送信アクションは、埋め込まれたフォームでも保持されます。
* 元のフォームに Adobe Analytics が設定されている場合、埋め込まれたフォームの分析データは Adobe Analytics でキャプチャされます。ただし、フォームの分析レポートでは使用できません。
