---
title: 環境の管理
description: 作成できる環境のタイプと、Cloud Manager プロジェクト用に環境を作成する方法について説明します。
exl-id: 93fb216c-c4a7-481a-bad6-057ab3ef09d3
source-git-commit: 71647239fc5e740faa25524a01a8ef21ed2d7a3b
workflow-type: tm+mt
source-wordcount: '1745'
ht-degree: 6%

---

# 環境の管理 {#managing-environments}

作成できる環境のタイプと、Cloud Manager プロジェクト用に環境を作成する方法について説明します。

## 環境タイプ {#environment-types}

必要な権限を持っているユーザーは、（特定のテナントで使用できる範囲内で）次のタイプの環境を作成できます。

* **実稼動環境とステージ環境**  — 実稼動環境とステージング環境は、それぞれペアとして使用でき、実稼動およびテストの目的で使用されます。

* **開発**  — 開発環境は、開発およびテスト目的で作成でき、実稼動以外のパイプラインにのみ関連付けることができます。


個々の環境の機能は、内部で有効になっているソリューションによって異なります [プログラム。](/help/implementing/cloud-manager/getting-access-to-aem-in-cloud/program-types.md)

* [Sites](/help/sites-cloud/home.md)
* [アセット](/help/assets/home.md)
* [Forms](/help/forms/home.md)
* [Screens](/help/screens-cloud/home.md)

>[!NOTE]
>
>実稼動環境とステージング環境は、1 組としてのみ作成されます。 ステージング環境や実稼動環境のみを作成することはできません。

## 環境の追加 {#adding-environments}

1. Cloud Manager( ) にログインします。 [my.cloudmanager.adobe.com](https://my.cloudmanager.adobe.com/) 適切な組織を選択します。

1. 環境を追加するプログラムをクリックします。

1. 次の **プログラムの概要** ページ、クリック **環境を追加** の **環境** カードを使用して環境を追加します。

   ![環境カード](assets/no-environments.png)

   * この **環境を追加** オプションは **環境** タブをクリックします。

      ![「環境」タブ](assets/environments-tab.png)

   * この **環境を追加** 権限がない場合や、ライセンスされているリソースによっては、オプションが無効になる場合があります。

1. 内 **環境を追加** 表示されるダイアログ：

   * を選択します。 **環境タイプ**.
      * 使用可能な環境または使用中の環境の数は、「開発」環境タイプの後ろの括弧で囲んで表示されます。
   * 次を提供： **環境名**.
   * 次を提供： **環境の説明**.
   * を選択します。 **クラウド地域**.

   ![環境を追加ダイアログ](assets/add-environment2.png)

1. クリック **保存** をクリックして、指定した環境を追加します。

この **概要** 画面に新しい環境が **環境** カード。 これで、新しい環境用のパイプラインを設定できます。

## 環境の詳細 {#viewing-environment}

以下を使用して、 **環境** カードを使用して、2 つの方法で環境の詳細にアクセスできます。

1. 次の **概要** ページで、 **環境** 」タブをクリックします。

   ![「環境」タブ](assets/environments-tab2.png)

   * または、 **すべて表示** ボタン **環境** 直接～に飛び乗るカード **環境** タブをクリックします。

      ![「すべてを表示」オプション](assets/environment-showall.png)

1. この **環境** プログラムのすべての環境が開き、リストされます。

   ![「環境」タブ](assets/environment-view-2.png)

1. リスト内の環境をクリックすると、その詳細が表示されます。

   ![環境の詳細](assets/environ-preview1.png)

または、目的の環境の省略記号ボタンをクリックし、「 」を選択します **詳細を表示**.

![環境の詳細を表示](assets/view-environment-details.png)

>[!NOTE]
>
>この **環境** カードには 3 つの環境のみが表示されます。 をクリックします。 **すべて表示** ボタンをクリックして、プログラムのすべての環境を表示します。

### Preview Service へのアクセス {#access-preview-service}

Cloud Manager は、各AEMas a Cloud Service環境に（追加のパブリッシュサービスとして提供される）プレビューサービスを提供します。

このサービスを使用すると、Web サイトが実際のパブリッシュ環境に到達する前に Web サイトの最終的なエクスペリエンスをプレビューし、一般に利用できます。

作成時に、プレビューサービスにはデフォルトの IP許可リストが適用され、ラベルが付きます `Preview Default [<envId>]`：プレビューサービスへのすべてのトラフィックをブロックします。 アクセスを有効にするには、プレビューサービスからデフォルトの IP許可リストの適用を積極的に解除する必要があります。

![プレビューサービスとその許可リスト](assets/preview-ip-allow.png)

必要な権限を持つユーザーは、プレビューサービス URL を任意のチームで共有する前に、次のオプションの手順を実行して、プレビュー URL に確実にアクセスできるようにする必要があります。

1. 適切な IP許可リストを作成し、プレビューサービスに適用して、すぐに IP アドレスの適用を解除します `Preview Default [<envId>]` 許可リスト。

   * ドキュメントを参照してください [IP許可リストの適用と適用解除](/help/implementing/cloud-manager/ip-allow-lists/apply-allow-list.md) を参照してください。

1. 更新を使用 **IP許可リスト** デフォルトの IP を削除し、必要に応じて IP を追加するワークフロー。 詳しくは、「[IP 許可リストの管理](/help/implementing/cloud-manager/ip-allow-lists/managing-ip-allow-lists.md)」を参照してください。

プレビューサービスへのアクセスをロック解除すると、プレビューサービス名の前にあるロックアイコンは表示されなくなります。

アクティベートすると、AEM内の公開を管理 UI を使用して、コンテンツをプレビューサービスに公開できます。 ドキュメントを参照してください [コンテンツのプレビュー](/help/sites-cloud/authoring/fundamentals/previewing-content.md) を参照してください。

>[!NOTE]
>
>環境はAEMバージョンである必要があります `2021.05.5368.20210529T101701Z` 以降 そのために、お使いの環境で更新パイプラインが正常に実行されていることを確認してください。

## 環境の更新 {#updating-dev-environment}

クラウドネイティブなサービスであるため、実稼動プログラム内のステージング環境と実稼動環境の更新は、Adobeが自動的に管理します。

ただし、開発環境とサンドボックスプログラム内の環境の更新は、プログラム内で管理されます。 そのような環境で最新の公開バージョンが実行されていない場合、AEM **環境** カード **概要** 番組の画面が表示される **更新可能**.

![環境の更新ステータス](assets/environ-update.png)

### アップデートとパイプライン {#updates-pipelines}

パイプラインは、 [コードをAEM as a Cloud Serviceの環境にデプロイします。](deploy-code.md) このため、各パイプラインは特定のAEMバージョンに関連付けられています。

Cloud Manager が、パイプラインと共に最後にデプロイされたAEMよりも新しいバージョンの AEM を検出した場合は、 **更新可能** 環境のステータス。

したがって、更新プロセスは次の 2 つの手順で構成されます。

1. 最新バージョンのAEMでパイプラインを更新する
1. 新しいバージョンのAEMを環境にデプロイするためのパイプラインの実行

### 環境の更新 {#updating-your-environments}

この **更新** オプションは、 **環境** サンドボックスプログラムの開発環境および環境用カードを表示するには、環境の省略記号ボタンをクリックします。

![環境カードのオプションを更新](assets/environ-update2.png)

このオプションは、 **環境** 」タブをクリックし、環境の省略記号ボタンをクリックします。

![「環境」タブの「オプションを更新」](assets/environ-update3.png)

ユーザーが **デプロイメントマネージャー** 役割では、このオプションを使用して、この環境に関連付けられているパイプラインを最新のAEMバージョンに更新できます。

パイプラインのバージョンを一般公開されている最新のAEMバージョンに更新すると、最新バージョンを環境にデプロイするために、関連するパイプラインを実行するように求められます。

![環境を更新するためにパイプラインを実行するプロンプトを表示](assets/update-run-pipeline.png)

この **更新** オプションの動作は、プログラムの設定と現在の状態によって異なります。

* パイプラインが既に更新されている場合、 **更新** オプションは、ユーザーにパイプラインの実行を求めるプロンプトを表示します。
* パイプラインが既に更新中の場合、 **更新** オプションは、更新が既に実行されていることをユーザーに通知します。
* 適切なパイプラインが存在しない場合、 **更新** 「 」オプションを選択すると、ユーザーに対して作成を促すメッセージが表示されます。

## 開発環境の削除 {#deleting-environment}

必要な権限を持つユーザーは、開発環境を削除できます。

次の **概要** 上の番組の画面 **環境** 「 」カードで、削除する開発環境の省略記号ボタンをクリックします。

![削除オプション](assets/environ-delete.png)

削除オプションは、 **環境** タブ **概要** ウィンドウに表示されます。 環境の省略記号ボタンをクリックし、「 」を選択します。 **削除**.

![「環境」タブの「削除」オプション](assets/environ-delete2.png)

>[!NOTE]
>
>* 実稼動プログラムで作成された実稼動環境とステージング環境は削除できません。
>* サンドボックスプログラム内の実稼動環境とステージング環境は削除できます。


## アクセスの管理 {#managing-access}

選択 **アクセスを管理** 環境の省略記号メニュー ( **環境** カード。 オーサーインスタンスに直接移動して、環境のアクセスを管理できます。

![アクセスオプションを管理](assets/environ-access.png)

## 開発者コンソールへのアクセス {#accessing-developer-console}

選択 **開発者コンソール** 環境の省略記号メニュー ( **環境** カード。 ブラウザーに新しいタブが開き、ログインページが **開発者コンソール**.

![](assets/environ-devconsole.png)

ユーザーのみ **開発者** ロールは、 **開発者コンソール**. ただし、サンドボックスプログラムの場合、サンドボックスプログラムにアクセスできるすべてのユーザーは、 **開発者コンソール**.

ドキュメントを参照してください [サンドボックス環境の休止と休止解除](https://experienceleague.adobe.com/docs/experience-manager-cloud-service/onboarding/getting-access/cloud-service-programs/sandbox-programs.html?lang=ja#hibernating-introduction) を参照してください。

このオプションは、 **環境** タブ **概要** ウィンドウを開きます。

## ローカルにログイン {#login-locally}

選択 **ローカルログイン** を選択します。 **環境** Adobe Experience Managerにローカルでログインするためのカード。

![ローカルでログイン](assets/environ-login-locally.png)

さらに、 **環境** タブ **概要** ページ。

![「環境」タブからローカルにログイン](assets/environ-login-locally-2.png)

## カスタムドメイン名の管理 {#manage-cdn}

Cloud Manager では、公開サービスとプレビューサービスの両方で、Sites プログラムのカスタムドメイン名がサポートされています。 各 Cloud Manager 環境では、最大 250 個のカスタムドメインをホストできます。

カスタムドメイン名を設定するには、 **環境** 環境の詳細を表示するには、「 」タブをクリックします。

![環境の詳細](assets/domain-names.png)

お使いの環境のパブリッシュサービスでは、次のアクションを実行できます。

* [カスタムドメイン名の追加](/help/implementing/cloud-manager/custom-domain-names/add-custom-domain-name.md)

* [カスタムドメイン名の管理](/help/implementing/cloud-manager/custom-domain-names/managing-custom-domain-names.md)

* [カスタムドメイン名のステータスの確認](/help/implementing/cloud-manager/custom-domain-names/check-domain-name-status.md#pre-existing-cdn)または [SSL 証明書のステータスの確認](/help/implementing/cloud-manager/managing-ssl-certifications/managing-certificates.md#pre-existing-cdn)

* [IP 許可リストの管理](/help/implementing/cloud-manager/ip-allow-lists/managing-ip-allow-lists.md#pre-existing-cdn)


## IP 許可リストの管理 {#manage-ip-allow-lists}

IP許可リストは、Cloud Manager で、Sites プログラムのオーサー、パブリッシュ、プレビューサービスに対してサポートされています。

IP許可リストを管理するには、 **環境** タブ **概要** ページを開きます。 個々の環境をクリックして、その詳細を管理します。

### IP 許可リストの適用 {#apply-ip-allow-list}

IP許可リストを適用すると、許可リストの定義に含まれるすべての IP 範囲が環境のオーサーサービスまたはパブリッシュサービスに関連付けられます。 ユーザーの **ビジネスオーナー** または **デプロイメントマネージャー** の役割は、IP許可リストを適用するためにログインする必要があります。

IP許可リストを環境に適用するには、Cloud Manager に IP アドレスが存在する必要があります。 Cloud Manager での IP許可リストの詳細については、このドキュメントを参照してください[Cloud Manager での IP許可リストの概要です。](/help/implementing/cloud-manager/ip-allow-lists/introduction.md)

IP許可リストを適用するには、次の手順に従います。

1. 次の場所から特定の環境に移動します： **環境** プログラムのタブ **概要** 画面に移動して、 **IP許可リスト** 表。
1. IP許可リストテーブルの上部にある入力フィールドを使用して、IP許可リストと、それを適用するオーサーまたはパブリッシュサービスを選択します。
1. 「**適用**」をクリックし、送信を確認します。

### IP許可リストの適用解除 {#unapply-ip-allow-list}

IP許可リストの適用を解除すると、許可リストの定義に含まれるすべての IP 範囲が、環境内のオーサーサービスまたはパブリッシャーサービスと関連付け解除されます。 ユーザーの **ビジネスオーナー** または **デプロイメントマネージャー** IP許可リストの適用を解除するには、の役割がログインされている必要があります。

IP許可リストの適用を解除するには、次の手順に従います。

1. 次の場所から特定の環境に移動します： **環境** プログラムのタブ **概要** 画面に移動して、 **IP許可リスト** 表。
1. 適用を解除する IP許可リスト規則が表示されている行を特定します。
1. 行の末尾の省略記号ボタンを選択します。
1. 選択 **適用解除** 送信を確認します。
