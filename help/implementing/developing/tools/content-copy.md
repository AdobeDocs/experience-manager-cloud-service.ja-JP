---
title: コンテンツコピーツール
description: コンテンツコピーツールを使用すると、可変コンテンツをテスト用に、AEMの実稼動環境から低レベルの環境に、オンデマンドでas a Cloud Service可能なコンテンツをコピーできます。
exl-id: f060821d-d559-45d2-b3b1-1b2277694ec4
source-git-commit: 5ad33f0173afd68d8868b088ff5e20fc9f58ad5a
workflow-type: tm+mt
source-wordcount: '1306'
ht-degree: 50%

---


# コンテンツコピーツール {#content-copy}

コンテンツコピーツールを使用すると、可変コンテンツをテスト用に、AEMの実稼動環境から低レベルの環境に、オンデマンドでas a Cloud Service可能なコンテンツをコピーできます。

## はじめに {#introduction}

現在の実際のデータは、テスト、検証、ユーザー受け入れの目的で役立ちます。コンテンツコピーツールを使用すると、実稼動AEMas a Cloud Service環境からステージング、開発または [迅速な開発環境 (RDE)](/help/implementing/developing/introduction/rapid-development-environments.md) 環境を使用して、このようなテストを実行できます。

コピーするコンテンツは、コンテンツセットによって定義されます。コンテンツセットは、同じ Cloud Manager プログラム内のソースオーサーサービス環境からターゲットオーサーサービス環境にコピーされる可変コンテンツを含む、JCR パスのリストで構成されます。コンテンツセットでは、次のパスを使用できます。

```text
/content
/conf/**/settings/wcm
/conf/**/settings/dam/cfm/models
/conf/**/settings/graphql/persistentQueries
/etc/clientlibs/fd/themes
```

コンテンツをコピーする場合、ソース環境が真のソースです。

* 宛先環境でコンテンツが変更された場合、パスが同じであれば、そのコンテンツはソース環境のコンテンツで上書きされます。
* パスが異なる場合、ソースのコンテンツは宛先のコンテンツと結合されます。

## 権限 {#permissions}

コンテンツコピーツールを使用するには、ソース環境とターゲット環境の両方で特定の権限が必要です。

| コンテンツのコピー機能 | AEM 管理者グループ | デプロイメントマネージャーの役割 |
|---|---|---|
| [コンテンツセット](#create-content-set)の作成および変更 | 不要 | 必須 |
| [コンテンツのコピープロセス](#copy-content)の開始またはキャンセル | 必須 | 必須 |

権限と設定方法の詳細については、ドキュメントを参照してください。 [AEMas a Cloud Serviceのチームおよび製品プロファイル。](/help/onboarding/aem-cs-team-product-profiles.md)

## コンテンツセットの作成 {#create-content-set}

コンテンツをコピーする前に、コンテンツセットを定義する必要があります。定義後は、コンテンツセットを再利用してコンテンツをコピーできます。 コンテンツセットを作成するには、次の手順に従います。

1. Cloud Manager( ) にログオンします。 [my.cloudmanager.adobe.com](https://my.cloudmanager.adobe.com/) 適切な組織およびプログラムを選択します。

1. **概要**&#x200B;ページの&#x200B;**環境**&#x200B;画面に移動します。

1. **環境**&#x200B;画面から&#x200B;**コンテンツセット**&#x200B;ページに移動します。

1. 画面の右上で、 **コンテンツセットを追加**.

   ![コンテンツセット](assets/content-sets.png)

1. ウィザードの「**詳細**」タブで、コンテンツセットの名前と説明を入力し、「**続行**」をタップまたはクリックします。

   ![コンテンツセットの詳細](assets/add-content-set-details.png)

1. ウィザードの「**コンテンツのパス**」タブで、コンテンツセットに含める可変コンテンツのパスを指定します。

   1. パスを「**インクルードパスを追加**」フィールドに入力します。
   1. クリック **パスを追加** をクリックして、コンテンツセットにパスを追加します。
   1. クリック **パスを追加** 必要に応じて再び
      * 最大 50 個のパスを指定できます。

   ![コンテンツセットへのパスの追加](assets/add-content-set-paths.png)

1. コンテンツセットを調整または制限する必要がある場合は、サブパスを除外できます。

   1. 含めるパスのリストで、 **除外サブパスを追加** をクリックします。
   1. 選択したパスの下に、除外するサブパスを入力します。
   1. 「**除外パス**」をタップまたはクリックします。
   1. 必要に応じて、「**除外サブパスを追加**」をタップまたはクリックして、除外するパスを追加します。
      * 非管理対象パスは、管理対象パスに対する相対パスである必要があります。
      * 非管理対象パスの数に制限はありません。

   ![パスの除外](assets/add-content-set-paths-excluded.png)

1. 必要に応じて、指定したパスを編集できます。

   1. 除外されたサブパスの横にある X をクリックして、削除できます。
   1. パスの横にある省略記号ボタンをクリックし、 **編集** および **削除** オプション。

   ![パスリストを編集中](assets/add-content-set-excluded-paths.png)

1. コンテンツセットを作成するには、「**作成**」をタップまたはクリックします。

コンテンツセットを使用して環境間でコンテンツをコピーできるようになりました。

## コンテンツセットの編集 {#edit-content-set}

コンテンツの手順を作成する場合と同様の手順に従います。をクリックする代わりに、 **コンテンツセットを追加**、コンソールから既存のセットを選択し、「 」を選択します。 **編集** 省略記号メニューから。

![コンテンツセットの編集](assets/edit-content-set.png)

コンテンツセットの編集時に、設定済みのパスを展開して、除外されたサブパスを表示できます。

## コンテンツのコピー {#copy-content}

コンテンツセットを作成した後、それを使用してコンテンツをコピーできます。 次の手順に従って、コンテンツをコピーできます。

>[!NOTE]
> 環境でコンテンツコピーを使用しないでください。 [コンテンツ転送](/help/journey-migration/content-transfer-tool/using-content-transfer-tool/overview-content-transfer-tool.md) 操作がその環境で実行されています。

1. [my.cloudmanager.adobe.com](https://my.cloudmanager.adobe.com/) で Cloud Manager にログインし、適切な組織とプログラムを選択します。

1. **概要**&#x200B;ページの&#x200B;**環境**&#x200B;画面に移動します。

1. **環境**&#x200B;画面から&#x200B;**コンテンツセット**&#x200B;ページに移動します。

1. コンソールからコンテンツセットを選択し、省略記号メニューから「**コンテンツをコピー**」を選択します。

   ![コンテンツのコピー](assets/copy-content.png)

   >[!NOTE]
   >
   >次の場合、環境を選択できない可能性があります。
   >
   >* ユーザーに適切な権限がない。
   >* 環境でパイプラインが実行されているか、コンテンツのコピー操作が処理中。
   >* 環境が休止状態または起動中です。

1. **コンテンツをコピー**&#x200B;ダイアログで、コンテンツのコピーアクションのソースと宛先を指定します。

   ![コンテンツのコピー](assets/copying-content.png)

   * コンテンツは、上位の環境から下位の環境にコピーするか、次のような階層を持つ開発／RDE 環境間でのみ（最上位から最下位へ）コピーできます。
      * 実稼動
      * ステージング
      * 開発／RDE

1. 必要に応じて、 **アクセス制御リストを含める** コピープロセス内で使用します。

1. 「**コピー**」をタップまたはクリックします。

コピープロセスが開始します。コピープロセスのステータスは、選択したコンテンツセットのコンソールに反映されます。

## コンテンツのコピーアクティビティ {#copy-activity}

コピープロセスのステータスは、**コンテンツをコピーアクティビティ**&#x200B;ページで監視できます。

1. [my.cloudmanager.adobe.com](https://my.cloudmanager.adobe.com/) で Cloud Manager にログインし、適切な組織とプログラムを選択します。

1. **概要**&#x200B;ページの&#x200B;**環境**&#x200B;画面に移動します。

1. **環境**&#x200B;画面から&#x200B;**コンテンツをコピーアクティビティ**&#x200B;ページに移動します。

![コンテンツのコピーアクティビティ](assets/copy-content-activity.png)

### コンテンツのコピーステータス {#statuses}

コンテンツのコピーを開始すると、プロセスに次のいずれかのステータスが設定されます。

| ステータス | 説明 |
|---|---|
| 処理中 | コンテンツのコピー操作が進行中です |
| 失敗 | コンテンツのコピー操作に失敗しました |
| 完了 | コンテンツのコピー操作が正常に完了しました |
| キャンセル | コンテンツのコピー操作開始後にキャンセルされました |

### コピープロセスのキャンセル {#canceling}

コンテンツのコピー操作を開始後に中止する必要がある場合は、オプションでキャンセルできます。

これを行うには、**コンテンツのアクティビティをコピー**&#x200B;ページで、以前に開始したコピープロセスの省略記号メニューから&#x200B;**キャンセル**&#x200B;アクションを選択します。

![コンテンツのコピーのキャンセル](assets/content-copy-cancel.png)

>[!NOTE]
>
>コンテンツのコピー操作をキャンセルすると、宛先環境にコンテンツが部分的にコピーされる場合があります。この状況では、宛先環境が使用できない状態のままになる場合があります。
>
>キャンセルにより環境がそのような状態にある場合は、Adobeカスタマーケアにお問い合わせください。

### ログへのアクセス {#accessing-logs}

完了したコンテンツコピープロセスについては、ソース環境と宛先環境の両方でログを確認できます。

これをおこなうには、 **コンテンツアクティビティをコピー** ページで、 **ログ** ログを確認し、どの環境を使用するかを選択するコピープロセスの省略記号メニューから「 」アクションを選択します。

![コピーコンテンツプロセスのログへのアクセス](assets/copy-content-logs.png)

ログがローカルマシンにダウンロードされます。 ダウンロードが開始されない場合は、ポップアップブロッカーの設定を確認してください。

## 制限事項 {#limitations}

コンテンツのコピーツールには次の制限があります。

* コンテンツを低い環境から高い環境にコピーすることはできません。
* コンテンツは、オーサーサービスとの間でのみコピーできます。
* プログラム間でのコンテンツのコピーはできません。
* 同じ環境でコンテンツのコピー操作を同時に実行することはできません。
* コンテンツセットごとに最大 50 個のパスを指定できます。 除外されるパスに制限はありません。
* コンテンツコピーツールは、ソース上の移動または削除されたコンテンツを追跡できないので、クローンまたはミラーリングツールとして使用しないでください。
* コンテンツコピーツールにはバージョン管理機能がなく、前回のコンテンツコピー操作以降に設定されたコンテンツのソース環境で、変更されたコンテンツや新しく作成されたコンテンツを自動的に検出できません。
   * コンテンツの変更のみを反映して宛先環境を更新する場合は、前回のコンテンツコピー操作以降に、コンテンツセットを作成する必要があります。 次に、前回のコンテンツコピー操作以降に変更が加えられたソースインスタンス上のパスを指定します。
* バージョン情報は、コンテンツコピーに含まれていません。
