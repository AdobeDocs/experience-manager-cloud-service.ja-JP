---
title: パッケージマネージャー
description: AE の基本を学ぶ。パッケージマネージャーを使用したパッケージ管理。
feature: Administering
role: Admin
exl-id: b5fef273-912d-41f6-a698-0231eedb2b92
source-git-commit: 940a01cd3b9e4804bfab1a5970699271f624f087
workflow-type: tm+mt
source-wordcount: '3584'
ht-degree: 14%

---

# パッケージマネージャー {#working-with-packages}

パッケージを使用すると、リポジトリコンテンツのインポートおよびエクスポートが可能になります。 パッケージを使用して、新しいコンテンツのインストール、インスタンス間でのコンテンツの転送、リポジトリコンテンツのバックアップをおこなうことができます。

パッケージマネージャーを使用すると、開発目的で、AEMインスタンスとローカルファイルシステムの間でパッケージを転送できます。

## パッケージとは {#what-are-packages}

パッケージとは、リポジトリコンテンツをファイルシステムのシリアル化形式で保持する zip ファイルで、vault のシリアル化と呼ばれ、使いやすく編集しやすい形式でファイルやフォルダを表現します。 パッケージに含まれるコンテンツは、フィルターを使用して定義します。

パッケージには、フィルタ定義や読み込み設定情報などの Vault メタ情報も含まれています。 説明、視覚的な画像、アイコンなど、パッケージの抽出には使用されない追加のコンテンツプロパティをパッケージに含めることができます。 これらの追加のコンテンツプロパティは、コンテンツパッケージコンシューマー向けのもので、情報提供だけを目的としています。

>[!NOTE]
>
>パッケージは、そのパッケージを作成した時点におけるコンテンツの現在のバージョンを表しています。AEM がリポジトリに保持している以前のバージョンのコンテンツは含まれません。

## AEMでのパッケージas a Cloud Service {#aemaacs-packages}

AEMas a Cloud Serviceのアプリケーション用に作成されたコンテンツパッケージでは、不変コンテンツと可変コンテンツを明確に分離する必要があります。 したがって、パッケージマネージャーは、コンテンツを含むパッケージの管理にのみ使用できます。 任意のコードは、Cloud Manager を使用してデプロイする必要があります。

>[!NOTE]
>
>パッケージには、コンテンツのみを含めることができます。 すべての機能 ( 例： `/apps`) は [Cloud Manager の CI/CD パイプラインを使用してデプロイされます。](/help/implementing/cloud-manager/deploy-code.md)

>[!IMPORTANT]
>
>パッケージマネージャー UI で **未定義** パッケージのインストールに 10 分以上かかる場合のエラーメッセージ。
>
>これは、インストールのエラーによるものではなく、すべての要求に対してCloud Serviceが持つタイムアウトのためです。
>
>このようなエラーが表示された場合は、インストールを再試行しないでください。 インストールはバックグラウンドで正しく進行しています。 インストールを再起動すると、複数の同時インポートプロセスによって競合が発生する可能性があります。

AEMaaCS 用のパッケージを管理する方法の詳細については、このドキュメントを参照してください [AEMへのデプロイ (as a Cloud Service)](/help/implementing/deploying/overview.md) （デプロイユーザーガイド）。

## パッケージマネージャー {#package-manager}

パッケージマネージャーは、AEMのインストール上のパッケージを管理します。 次の条件が満たされた後 [必要な権限を割り当て](#permissions-needed-for-using-the-package-manager) パッケージマネージャーは、パッケージの設定、構築、ダウンロード、インストールなど、様々なアクションに使用できます。

### 必要な権限 {#required-permissions}

パッケージを作成、変更、アップロード、インストールするには、次のノードに対する適切な権限が必要です。

* 削除を除く完全な権限 `/etc/packages`
* パッケージコンテンツを含むノード

>[!CAUTION]
>
>パッケージに対する権限を付与すると、機密情報の開示やデータの損失が発生する場合があります。
>
>これらのリスクを制限するには、専用のサブツリーに対してのみ特定のグループ権限を付与することを強くお勧めします。

### パッケージマネージャーへのアクセス {#accessing}

パッケージマネージャーには次の 3 つの方法でアクセスできます。

1. AEMのメインメニューから —> **ツール** -> **導入** -> **パッケージ**
1. 送信者 [CRXDE Lite](crxde.md) 上部のスイッチャーバーの使用
1. に直接アクセス `http://<host>:<port>/crx/packmgr/`

### パッケージマネージャー UI {#ui}

パッケージマネージャーは、次の 4 つの主な機能領域に分かれています。

* **左ナビゲーションパネル**  — このパネルでは、パッケージのリストをフィルタリングおよび並べ替えることができます。
* **パッケージリスト**  — これは、左側のナビゲーションパネルでの選択に従ってフィルタリングおよび並べ替えられた、インスタンス上のパッケージのリストです。
* **アクティビティログ**  — このパネルは最初は最小化され、パッケージのビルド時やインストール時など、パッケージマネージャーのアクティビティの詳細を表示するように拡張されます。 「アクティビティログ」タブには、次の操作を行うための追加のボタンがあります。
   * **ログを消去**
   * **表示／非表示**
* **ツールバー**  — ツールバーには、左側のナビゲーションパネルとパッケージリスト用の更新ボタン、およびパッケージを検索、作成、アップロードするためのボタンが含まれています。

![パッケージマネージャー UI](assets/package-manager-ui.png)

左側のナビゲーションパネルでオプションをクリックすると、パッケージリストが直ちにフィルタリングされます。

パッケージ名をクリックすると、「パッケージリスト」のエントリが展開され、パッケージの詳細が表示されます。

![拡張されたパッケージの詳細](assets/package-expand.png)

パッケージの詳細を展開する際に使用できるツールバーボタンを使用して、パッケージで実行できるアクションは多数あります。

* [編集](#edit-package)
* [ビルド](#building-a-package)
* [再インストール](#reinstalling-packages)
* [ダウンロード](#downloading-packages-to-your-file-system)

その他のアクションは、 **詳細** 」ボタンをクリックします。

* [削除](#deleting-packages)
* [カバレッジ](#package-coverage)
* [目次](#viewing-package-contents-and-testing-installation)
* [再折り返し](#rewrapping-a-package)
* [その他のバージョン](#other-versions)
* [アンインストール](#uninstalling-packages)
* [インストールをテスト](#viewing-package-contents-and-testing-installation)
* [Validate（検証）](#validating-packages)
* [レプリケーション](#replicating-packages)

### パッケージステータス {#package-status}

パッケージリスト内の各エントリには、パッケージのステータスを一目で把握できるステータスインジケーターが表示されます。 ステータスの上にマウスポインターを置くと、ステータスの詳細を示すツールチップが表示されます。

![パッケージのステータス](assets/package-status.png)

パッケージが変更された、またはビルドされなかった場合、ステータスは、パッケージを再構築またはインストールするためのクイックアクションを実行するためのリンクとして表示されます。

## パッケージ設定 {#package-settings}

パッケージとは基本的に、一連のフィルターと、これらのフィルターに基づくリポジトリデータです。 パッケージマネージャーの UI を使用して、パッケージをクリックし、 **編集** ボタンをクリックすると、次の設定を含むパッケージの詳細が表示されます。

* [一般設定](#general-settings)
* [パッケージフィルター](#package-filters)
* [パッケージの依存関係](#package-dependencies)
* [詳細設定](#advanced-settings)
* [パッケージスクリーンショット](#package-screenshots)

### 一般設定 {#general-settings}

様々なパッケージ設定を編集して、パッケージの説明、依存関係、プロバイダーの詳細などの情報を定義できます。

この **パッケージ設定** ダイアログは、 **編集** ボタンを [作成中](#creating-a-new-package) または [編集中](#viewing-and-editing-package-information) パッケージ。 変更が完了したら、「 **保存**.

![パッケージを編集ダイアログ、一般設定](assets/general-settings.png)

| フィールド | 説明 |
|---|---|
| 名前 | パッケージの名前 |
| グループ | パッケージを整理するために、新しいグループの名前を入力するか、既存のグループを選択できます |
| バージョン | バージョンに使用するテキスト |
| 説明 | 書式設定用のHTMLマークアップを許可するパッケージの簡単な説明 |
| サムネール | パッケージリストと共に表示されるアイコン |

### パッケージフィルター {#package-filters}

フィルターは、パッケージに含めるリポジトリノードを識別します。A **フィルター定義** 次の情報を指定します。

* この **ルートパス** 含めるコンテンツの
* **ルール** ルートパスの下の特定のノードを含める、または除外する

を使用してルールを追加する **+** 」ボタンをクリックします。 次を使用してルールを削除： **-** 」ボタンをクリックします。

ルールは順序に従って適用され、必要に応じて **上** および **下** 矢印ボタン

フィルターには、0 個以上のルールを含めることができます。ルールが定義されていない場合、パッケージのルートパスの下にすべてのコンテンツが含まれます。

パッケージには、1 つ以上のフィルター定義を定義できます。複数のルートパスのコンテンツを含めるには、複数のフィルターを使用します。

![「フィルター」タブ](assets/edit-filter.png)

フィルターを作成する際に、パスを定義するか、正規表現を使用して、含めるまたは除外するすべてのノードを指定できます。

| ルールタイプ | 説明 |
|---|---|
| include | ディレクトリを含めると、そのディレクトリと、そのディレクトリ内のすべてのファイルとフォルダ（サブツリー全体）が含まれますが、 **次の条件を満たさない** 指定したルートパスの下に、の他のファイルまたはフォルダを含めます。 |
| exclude | ディレクトリを除外すると、そのディレクトリと、そのディレクトリ内のすべてのファイルとフォルダー（つまりサブツリー全体）が除外されます。 |

パッケージフィルターは、最初に [パッケージを作成します。](#creating-a-new-package) ただし、後で編集することもでき、その後、パッケージを再構築して、新しいフィルター定義に基づいてその内容を更新する必要があります。

>[!TIP]
>
>1 つのパッケージに複数のフィルター定義を含めることができるので、異なる場所のノードを 1 つのパッケージに簡単に組み合わせることができます。

### 依存関係 {#dependencies}

![「依存関係」タブ](assets/dependencies.png)

| フィールド | 説明 | 例/詳細 |
|---|---|---|
| でテスト済み | このパッケージのターゲットまたは互換性のある製品名およびバージョン。 | `AEMaaCS` |
| 修正された問題 | このパッケージで修正されたバグの詳細をリストするテキストフィールド。1 行に 1 つのバグが表示されます。 | - |
| 依存 | 現在のパッケージがインストール時に期待どおりに実行されるように、必要なその他のパッケージをリストします | `groupId:name:version` |
| 置き換え | このパッケージで置き換えられる、廃止されたパッケージのリスト | `groupId:name:version` |

### 詳細設定 {#advanced-settings}

![「詳細設定」タブ](assets/advanced-settings.png)

| フィールド | 説明 | 例/詳細 |
|---|---|---|
| 名前 | パッケージのプロバイダーの名前 | `WKND Media Group` |
| URL | プロバイダーの URL | `https://wknd.site` |
| リンク | プロバイダーページへのパッケージ固有のリンク | `https://wknd.site/package/` |
| 次を必要とする | パッケージのインストール時に制限があるかどうかを定義します | **管理者**  — パッケージは管理者権限でのみインストールする必要があります&#x200B;<br>**再起動** - AEMはパッケージのインストール後に再起動する必要があります |
| AC の処理 | パッケージがインポートされたときの、パッケージで定義されたアクセス制御情報の処理方法を指定します | **無視**  — リポジトリ内の ACL を保持&#x200B;<br>**上書き**  — リポジトリ内の ACL を上書き&#x200B;<br>**結合**  — 両方の ACL セットをマージする&#x200B;<br>**MergePreserve**  — コンテンツ内に存在しないプリンシパルのアクセス制御エントリを追加して、コンテンツ内のアクセス制御をパッケージに付属するエントリと結合します&#x200B;<br>**クリア** - ACL をクリア |

### パッケージスクリーンショット {#package-screenshots}

パッケージに複数のスクリーンショットを添付して、コンテンツがどのように表示されるかを視覚的に示すことができます。

![「スクリーンショット」タブ](assets/screenshots.png)

## パッケージアクション {#package-actions}

1 つのパッケージで実行できるアクションは多数あります。

### パッケージの作成 {#creating-a-new-package}

1. [パッケージマネージャーにアクセスします。](#accessing)

1. 「**パッケージを作成**」をクリックします。

   >[!TIP]
   >
   >インスタンスに多数のパッケージがある場合は、フォルダー構造が存在する可能性があります。 そのような場合は、新しいパッケージを作成する前に必要なターゲットフォルダーに移動する方が簡単です。

1. 内 **新規パッケージ** ダイアログで、次のフィールドを入力します。

   ![新規パッケージダイアログ](assets/new-package-dialog.png)

   * **パッケージ名**  — パッケージのコンテンツを（その他のユーザーが）簡単に識別できるように、説明的な名前を選択します。

   * **バージョン**  — これは、バージョンを示すためのテキストフィールドです。 これがパッケージ名に追加され、zip ファイルの名前が形成されます。

   * **グループ**  — ターゲットグループ（またはフォルダー）の名前です。 グループは、パッケージの整理に役立ちます。 グループのフォルダーがまだ存在しない場合は作成されます。 グループ名を空白のままにすると、メインのパッケージリストにパッケージが作成されます。

1. 「**OK**」をクリックしてパッケージを作成します。

1. AEMでは、新しいパッケージがパッケージのリストの最上部に表示されます。

   ![新しいパッケージ](assets/new-package.png)

1. クリック **編集** を定義するには、 [パッケージの内容。](#package-contents) クリック **保存** 設定の編集が終了したら、次の手順に従います。

1. これで、パッケージを[ビルド](#building-a-package)できます。

パッケージを作成した後すぐにビルドする必要はありません。 未ビルドパッケージにはコンテンツが含まれず、フィルターデータとパッケージの他のメタデータのみで構成されます。

### パッケージのビルド {#building-a-package}

多くの場合、パッケージはユーザーと同時に構築されます [パッケージを作成](#creating-a-new-package)に変更された場合は、後で戻って、パッケージをビルドまたは再構築できます。 これは、リポジトリ内のコンテンツが変更された場合や、パッケージフィルターが変更された場合に役立ちます。

1. [パッケージマネージャーにアクセスします。](#accessing)

1. パッケージ名をクリックして、パッケージリストからパッケージの詳細を開きます。

1. クリック **ビルド**. 既存のパッケージの内容が上書きされるので、パッケージをビルドするかどうかを確認するダイアログが表示されます。

1. 「**OK**」をクリックします。AEMがパッケージをビルドし、パッケージに追加されたすべてのコンテンツがアクティビティリストに表示されます。 パッケージの構築が完了すると、パッケージが構築されたことを示すダイアログが表示されます。また、（このダイアログを閉じると）パッケージリストの内容が更新されます。

### パッケージの編集 {#edit-package}

パッケージをAEMにアップロードした後は、その設定を変更できます。

1. [パッケージマネージャーにアクセスします。](#accessing)

1. パッケージ名をクリックして、パッケージリストからパッケージの詳細を開きます。

1. クリック **編集** を更新し、 **[パッケージ設定](#package-settings)** 必要に応じて。

1. クリック **保存** 保存します。

必要に応じて、 [パッケージを再構築します。](#building-a-package) をクリックして、変更に基づいてコンテンツを更新します。

### パッケージを再度含める {#rewrapping-a-package}

パッケージを構築したら、再ラップできます。 再ラップは、パッケージのコンテンツを変更せずに、サムネール、説明などを含まずにパッケージ情報を変更します。

1. [パッケージマネージャーにアクセスします。](#accessing)

1. パッケージ名をクリックして、パッケージリストからパッケージの詳細を開きます。

1. クリック **編集** を更新し、 **[パッケージ設定](#package-settings)** 必要に応じて。

1. クリック **保存** 保存します。

1. クリック **詳細** -> **再折り返し** そして、確認を求めるダイアログが表示されます。

### 他のパッケージバージョンの表示 {#other-versions}

パッケージのすべてのバージョンは他のパッケージとしてリストに表示されるので、パッケージマネージャーは選択したパッケージの他のバージョンを検索できます。

1. [パッケージマネージャーにアクセスします。](#accessing)

1. パッケージ名をクリックして、パッケージリストからパッケージの詳細を開きます。

1. クリック **詳細** -> **その他のバージョン** ダイアログが開き、同じパッケージの他のバージョンとステータス情報が表示されます。

### パッケージコンテンツの表示とインストールのテスト {#viewing-package-contents-and-testing-installation}

パッケージが構築されたら、コンテンツを表示できます。

1. [パッケージマネージャーにアクセスします。](#accessing)

1. パッケージ名をクリックして、パッケージリストからパッケージの詳細を開きます。

1. コンテンツを表示するには、 **詳細** -> **内容**、およびパッケージマネージャーには、パッケージのコンテンツ全体がアクティビティログにリストされます。

   ![パッケージコンテンツ](assets/package-contents.png)

1. インストールのドライランを実行するには、をクリックします。 **詳細** -> **インストールをテスト** 「パッケージマネージャー」レポートと「 」アクティビティで、インストールが実行された場合と同じように結果がログに記録されます。

   ![インストールのテスト](assets/test-install.png)

### ファイルシステムへのパッケージのダウンロード {#downloading-packages-to-your-file-system}

1. [パッケージマネージャーにアクセスします。](#accessing)

1. パッケージ名をクリックして、パッケージリストからパッケージの詳細を開きます。

1. 次をクリック： **ダウンロード** ボタンまたはパッケージのリンクされたファイル名（パッケージの詳細領域内）

1. AEMがお使いのコンピューターにパッケージをダウンロードします。

### ファイルシステムからのパッケージのアップロード {#uploading-packages-from-your-file-system}

1. [パッケージマネージャーにアクセスします。](#accessing)

1. パッケージのアップロード先となるグループフォルダーを選択します。

1. 次をクリック： **パッケージをアップロード** 」ボタンをクリックします。

1. アップロードしたパッケージに関する必要な情報を入力します。

   ![パッケージのアップロードダイアログ](assets/package-upload-dialog.png)

   * **パッケージ** - **参照…** ボタンをクリックして、必要なパッケージをローカルファイルシステムから選択します。
   * **アップロードを強制**  — この名前のパッケージが既に存在する場合は、このオプションを選択すると、アップロードが強制され、既存のパッケージが上書きされます。

1. クリック **OK** 選択したパッケージがアップロードされ、それに応じてパッケージリストが更新されます。

パッケージコンテンツがAEMに存在しますが、コンテンツを使用できるようにするには、必ず [パッケージをインストール](#installing-packages).

### パッケージの検証 {#validating-packages}

パッケージは既存のコンテンツを変更する可能性があるので、多くの場合、インストール前にこれらの変更を検証すると便利です。

#### 検証オプション {#validation-options}

パッケージマネージャーは次の検証を実行できます。

* [OSGi パッケージの読み込み](#osgi-package-imports)
* [オーバーレイ](#overlays)
* [ACL](#acls)

##### OSGi パッケージの読み込みを検証 {#osgi-package-imports}

>[!NOTE]
>
>AEMaaCS でのコードのデプロイにパッケージを使用できないので、 **OSGi パッケージのインポート** 検証は不要です。

**チェック内容**

この検証は、すべての JAR ファイル（OSGi バンドル）のパッケージを検証し、それらを抽出します `manifest.xml` （これには、その OSGi バンドルが依存するバージョン管理された依存関係が含まれます）。また、AEMインスタンスが、その依存関係を正しいバージョンでエクスポートしたことを検証します。

**レポート方法**

AEMインスタンスで満たされないバージョン管理された依存関係は、パッケージマネージャーのアクティビティログに表示されます。

**エラーの状態**

未解決の依存関係がある場合、それらの依存関係を持つパッケージ内の OSGi バンドルは開始しません。これにより、起動されていない OSGi バンドルに依存するものはすべて正しく機能しなくなるので、アプリケーションのデプロイメントが壊れます。

**エラーの解決**

未満の OSGi バンドルによるエラーを解決するには、未満の読み込みを含むバンドルの依存バージョンを調整する必要があります。

##### オーバーレイを検証 {#overlays}

>[!NOTE]
>
>AEMaaCS でのコードのデプロイにパッケージを使用できないので、 **オーバーレイ** 検証は不要です。

**チェック内容**

この検証では、インストールするパッケージに、宛先の AEM インスタンスにすでにオーバーレイされているファイルが含まれているかどうかを確認します。

例えば、既存のオーバーレイが `/apps/sling/servlet/errorhandler/404.jsp`、を含むパッケージ `/libs/sling/servlet/errorhandler/404.jsp`に設定し、 `/libs/sling/servlet/errorhandler/404.jsp`.

**レポート方法**

このようなオーバーレイは、パッケージマネージャーのアクティビティログに記述されます。

**エラーの状態**

パッケージがすでにオーバーレイされているファイルをデプロイしようとしています。したがって、パッケージ内の変更はオーバーレイによって上書きされ（つまり「非表示」となり）、有効になりません。

**エラーの解決**

この問題を解決するには、 `/apps` は、 `/libs` 必要に応じて変更をオーバーレイ ( `/apps`) をクリックし、オーバーレイされたファイルを再デプロイします。

>[!NOTE]
>
>検証メカニズムでは、オーバーレイされたコンテンツがオーバーレイファイルに適切に組み込まれた場合、紐付けをおこなうことはできません。 したがって、この検証では、必要な変更が加えられた後も競合についてレポートし続けます。

##### ACL を検証 {#acls}

**チェック内容**

この検証では、どの権限が追加されるか、それらがどのように処理されるか（マージ／置換）、および現在の権限が影響を受けるかどうかを確認します。

**レポート方法**

権限については、パッケージマネージャーのアクティビティログで説明します。

**エラーの状態**

明示的なエラーはありません。この検証は、パッケージをインストールすることで新しい ACL 権限が追加されるか、または影響があるかどうかを示すだけです。

**エラーの解決**

検証によって提供された情報を使用して、影響を受けたノードを CRXDE で確認したり、必要に応じて ACL をパッケージ内で調整したりできます。

>[!CAUTION]
>
>ベストプラクティスとして、パッケージはAEMが提供する ACL に影響を与えないようにすることをお勧めします。その場合、予期しない動作が発生する可能性があります。

#### 検証の実行 {#performing-validation}

パッケージの検証は 2 とおりの方法で行うことができます。

* [パッケージマネージャーの UI から](#via-package-manager)
* [cURL などの HTTP POST リクエストを介して](#via-post-request)

検証は、パッケージをアップロードした後で、インストールする前に必ず行う必要があります。

##### パッケージマネージャーを使用したパッケージの検証 {#via-package-manager}

1. [パッケージマネージャーにアクセスします。](#accessing)

1. パッケージ名をクリックして、パッケージリストからパッケージの詳細を開きます。

1. パッケージを検証するには、 **詳細** -> **検証**,

1. 表示されるモーダルダイアログボックスで、チェックボックスを使用して検証の種類を選択し、「**検証**」をクリックして検証を開始します。

1. 選択した検証が実行され、結果がパッケージマネージャーのアクティビティログに表示されます。

##### HTTP POST リクエストを介したパッケージ検証 {#via-post-request}

POST リクエストの形式は以下のとおりです。

```
https://<host>:<port>/crx/packmgr/service.jsp?cmd=validate&type=osgiPackageImports,overlays,acls
```

この `type` パラメーターは、次の要素で構成される、任意のコンマ区切りの順不同リストにすることができます。

* `osgiPackageImports`
* `overlays`
* `acls`

の値 `type` デフォルト： `osgiPackageImports` 明示的に渡されない場合は。

cURL を使用する場合は、次のようなステートメントを実行します。

```shell
curl -v -X POST --user admin:admin -F file=@/Users/SomeGuy/Desktop/core.wcm.components.all-1.1.0.zip 'http://localhost:4502/crx/packmgr/service.jsp?cmd=validate&type=osgiPackageImports,overlays,acls'
```

POSTリクエストを介して検証する場合、応答は JSON オブジェクトとして返されます。

### パッケージカバレッジの表示 {#package-coverage}

パッケージは、フィルターによって定義されます。 パッケージマネージャーで既存のリポジトリコンテンツにパッケージのフィルターを適用して、パッケージのフィルター定義でカバーされるリポジトリのコンテンツを表示できます。

1. [パッケージマネージャーにアクセスします。](#accessing)

1. パッケージ名をクリックして、パッケージリストからパッケージの詳細を開きます。

1. クリック **詳細** -> **対象範囲**.

1. 有効範囲の詳細は、アクティビティログにリストされます。

### パッケージのインストール {#installing-packages}

パッケージをアップロードすると、パッケージのコンテンツがリポジトリに追加されるだけですが、アクセスできません。 パッケージのコンテンツを使用するには、アップロードしたパッケージをインストールする必要があります。

>[!CAUTION]
>
>パッケージをインストールすると、既存のコンテンツが上書きまたは削除される可能性があります。必要なコンテンツが削除または上書きされないと確認できる場合にのみ、パッケージをアップロードしてください。

パッケージをインストールする前に、上書きされるコンテンツを含むスナップショットパッケージがパッケージマネージャーによって自動的に作成されます。 このスナップショットは、パッケージをアンインストールすると再インストールされます。

1. [パッケージマネージャーにアクセスします。](#accessing)

1. パッケージ名をクリックして、インストールするパッケージのパッケージ詳細をパッケージリストから開きます。

1. 次のいずれかをクリックします。 **インストール** 項目の詳細または **インストール** リンクをクリックします。

1. 確認を求めるダイアログが表示され、追加のオプションを指定できます。

   * **抽出のみ**  — スナップショットが作成されず、アンインストールができないように、パッケージのみを抽出します
   * **しきい値を保存**  — 自動保存がトリガーされるまでの一時的なノード数（同時変更の例外が発生した場合は増加）
   * **サブパッケージを抽出**  — サブパッケージの自動抽出を有効にする
   * **アクセス制御の処理**  — パッケージのインストール時に、パッケージで定義されたアクセス制御情報を処理する方法を指定します ( オプションは [詳細パッケージ設定](#advanced-settings))
   * **依存関係の処理**  — インストール中の依存関係の処理方法を指定します

1. 「**インストール**」をクリックします。

1. インストールの進行状況の詳細は、アクティビティログに記録されます。

インストールが完了し、成功すると、パッケージリストが更新され、「 **インストール済み** パッケージのステータスに表示されます。

### パッケージの再インストール {#reinstalling-packages}

パッケージの再インストールは、既にインストール済みのパッケージに対して実行されます。この手順は、 [パッケージを初めてインストールします。](#installing-packages)

### ファイルシステムベースのアップロードおよびインストール {#file-system-based-upload-and-installation}

パッケージをインストールする際に、パッケージマネージャーを完全に終了できます。 AEMは、ホストマシンのローカルファイルシステム上の特定の場所に配置されたパッケージを検出し、それらを自動的にアップロードしてインストールできます。

1. AEMのインストールフォルダーに、 `crx-quicksart` jar と `license.properties` ファイル。 という名前のフォルダーを作成します。 `install` under `crx-quickstart` 結果としてパスが生成されます `<aem-home>/crx-quickstart/install`.

1. このフォルダーにパッケージを追加します。 追加したパッケージは、インスタンスに自動的にアップロードおよびインストールされます。

1. アップロードとインストールが完了すると、パッケージマネージャーで、パッケージマネージャー UI を使用してインストールした場合と同じようにパッケージを確認できます。

インスタンスが実行中の場合、パッケージに追加すると、アップロードとインストールが直ちに開始されます。 `install` フォルダー

インスタンスが実行されていない場合、 `install` フォルダは、起動時にアルファベット順にインストールされます。

### パッケージのアンインストール {#uninstalling-packages}

パッケージをアンインストールすると、リポジトリの内容が、インストール前に Package Manager が自動的に作成したスナップショットに戻ります。

1. [パッケージマネージャーにアクセスします。](#accessing)

1. アンインストールするパッケージのパッケージ詳細をパッケージリストから開き、パッケージ名をクリックします。

1. クリック **詳細** -> **アンインストール**&#x200B;をクリックして、リポジトリからこのパッケージのコンテンツを削除します。

1. 確認を要求するダイアログが表示され、行われたすべての変更が一覧表示されます。

1. パッケージが削除され、スナップショットが適用されます。 処理の進行状況がアクティビティログに表示されます。

### パッケージの削除 {#deleting-packages}

パッケージを削除すると、その詳細のみがパッケージマネージャーから削除されます。 このパッケージが既にインストールされている場合は、インストール済みのコンテンツは削除されません。

1. [パッケージマネージャーにアクセスします。](#accessing)

1. パッケージ名をクリックして、削除するパッケージのパッケージ詳細をパッケージリストから開きます。

1. AEMは、パッケージを削除するかどうかを確認するメッセージを表示します。 「**OK**」をクリックして削除を確認します。

1. パッケージ情報が削除され、詳細がアクティビティログに報告されます。

### パッケージのレプリケーション {#replicating-packages}

パッケージのコンテンツをレプリケートして、パブリッシュインスタンスにインストールします。

1. [パッケージマネージャーにアクセスします。](#accessing)

1. レプリケートするパッケージのパッケージ詳細をパッケージリストから開き、パッケージ名をクリックします。

1. クリック **詳細** -> **複製**.

1. パッケージがレプリケートされ、詳細がアクティビティログにレポートされます。

## ソフトウェア配布 {#software-distribution}

AEMパッケージを使用して、AEMaaCS 環境全体でコンテンツを作成および共有できます。

[ソフトウェア配布](https://downloads.experiencecloud.adobe.com) には、AEM ローカル開発 SDK で使用するAEMパッケージが用意されています。 ソフトウェア配布で提供されるAEMパッケージは、Adobeサポートによって明示的に承認されない限り、AEMaaCS クラウド環境にインストールしてはなりません。

詳しくは、 [ソフトウェア配布ドキュメント](https://experienceleague.adobe.com/docs/experience-cloud/software-distribution/home.html).
