---
title: コンテンツのモデリング方法
description: AEMヘッドレス開発者ジャーニーのこの部分では、コンテンツフラグメントモデルとコンテンツフラグメントを使用したデータモデリングを使用して、AEMヘッドレス配信向けのコンテンツをモデル化する方法を学びます。
hide: true
hidefromtoc: true
index: false
translation-type: tm+mt
source-git-commit: 9fb18dbe60121f46dba1e11d4133e5264a6d538d
workflow-type: tm+mt
source-wordcount: '1671'
ht-degree: 4%

---


# コンテンツのモデリング方法{#model-your-content}

>[!CAUTION]
>
>作業中 — このドキュメントの作成は現在進行中で、完全なもの、最終的なもの、または実稼働目的で使用するものとして理解してはなりません。

[AEMヘッドレス開発者ジャーニー](overview.md)のこの部分では、コンテンツ構造をモデル化する方法を学習できます。 次に、コンテンツフラグメントモデルとコンテンツフラグメントを使用して、チャネル間で再利用するAdobe Experience Manager(AEM)の構造を実現します。

## {#story-so-far}

[CMSヘッドレス開発](learn-about.md)の最初に、ヘッドレスコンテンツの配信を説明し、使用する理由を説明します。 次に、[AEM HeadlessをCloud Serviceとして使用する前に](getting-started.md)独自のプロジェクトのコンテキストでAEM Headlessを説明します

以前のドキュメントのAEMヘッドレスジャーニー[「AEMヘッドレスを使用した最初のエクスペリエンスへのパス](/help/implementing/developing/headless-journey/path-to-first-experience.md)」では、最初のプロジェクトの実装に必要な手順を学びました。 読んだ後は、次の操作を行う必要があります。

* コンテンツをデザインする際の重要な計画上の考慮事項の把握
* 統合レベルの要件に応じてヘッドレスを実装する手順を理解します。
* 必要なツールとAEM設定を設定します。
* ヘッドレスなジャーニーをスムーズにし、コンテンツ生成を効率的に維持し、コンテンツを迅速に配信するためのベストプラクティスを知っている。

この記事は、これらの基本事項に基づいて構築されているので、独自のAEMヘッドレスプロジェクトを準備する方法を理解しています。

## 目的 {#objective}

* **オーディエンス**:初心者
* **目的**:コンテンツ構造をモデル化し、AEMコンテンツフラグメントモデルとコンテンツフラグメントを使用してその構造を実現する方法を説明します。
   * [データモデリング](#data-modeling)に関連する概念と用語を紹介します。
   * [ヘッドレスコンテンツ配信](#data-modeling-for-aem-headless)にデータモデリングが必要な理由を説明します。
   * AEMコンテンツフラグメントモデル](#create-structure-content-fragment-models)を使用してこの構造を実現する方法（および[コンテンツフラグメント](#use-content-to-author-content)を使用してコンテンツを作成する方法）を学習します。[
   * [コンテンツのモデル化方法](#getting-started-examples)を学習します。基本的なサンプルを持つ原則

>[!NOTE]
>
>データモデリングは非常に大きなフィールドで、リレーショナルデータベースの開発時に使用されます。 本や情報源が多い。
>
>AEMヘッドレスで使用するデータをモデリングする場合、重要な側面だけを考慮します。

## データモデリング{#data-modeling}

*大きな悪い世界です*。

おそらくそうではないかもしれませんが、確かに大きな&#x200B;***複雑な***&#x200B;世界です。データモデリングを使って、ある目的に必要な特定の情報を使って、非常に（非常に）小さなサブセクションの簡略表現を定義します。

次に例を示します。

学校は多いが、共通点はいろいろある。

* 場所
* 教頭
* 多数の教師
* 非教育スタッフの多く
* 多くの生徒
* 多くの元教師
* 多くの元生徒
* 多くの教室
* 多くの本
* 多数の（多数の）設備
* 多くの余分なカリキュラムアクティビティ
* その他….

こんな小さな例でも、リストは果てしなく見える。 ただし、単にアプリケーションで単純なタスクを実行したい場合は、情報を基本的な要素に限定する必要があります。

例えば、地域内のすべての学校に特別なイベントを広告する。

* 学校名
* 学校の所在地
* 教頭
* イベントのタイプ
* イベント日
* イベントを組織する教師

### 概念 {#concepts}

説明したい内容は&#x200B;**エンティティ**&#x200B;と呼ばれます。基本的には、情報を保存したい「物」です。

これらに関して保存したい情報は、**属性** （プロパティ）です。例えば、名前、教師の資格などです。

次に、エンティティ間に様々な&#x200B;**Relationships**&#x200B;が存在します。 例えば、通常、学校には教頭が1人しかいないし、教師も多い（教頭も教師である）。

この情報を分析して定義するプロセスは、それらの間の関係と共に、**データモデリング**&#x200B;と呼ばれます。

### 基本 {#basics}

多くの場合、エンティティとその関係を説明する&#x200B;**概念スキーマ**&#x200B;を描いて開始する必要があります。 通常、これは高レベル（概念）です。

これが安定した後は、モデルを&#x200B;**エンティティを記述する論理スキーマ**&#x200B;に、属性と関係と共に変換できます。 このレベルでは、重複を排除してデザインを最適化するために、定義を詳細に検討する必要があります。

>[!NOTE]
>
>シナリオの複雑さに応じて、この2つの手順が結合されることがあります。

例えば、`Head Teacher`と`Teacher`に別々のエンティティが必要ですか、それとも単に`Teacher`モデルの追加の属性が必要ですか。

### データの整合性の確保{#data-integrity}

ライフサイクル全体にわたって、コンテンツの正確性と一貫性を保証するには、データの整合性が必要です。 これには、コンテンツ作成者が保存する場所を簡単に理解できるようにすることが含まれます。そのため、以下が重要です。

* 明確な構造
* （正確さを犠牲にせずに）できるだけ簡潔な構造
* 個々のフィールドの検証
* 該当する場合は、特定のフィールドの内容を意味のある内容に制限する

### データの冗長性を排除{#data-redundancy}

データの冗長性は、同じ情報がコンテンツ構造内に2回格納される場合に発生します。 これは、コンテンツの作成時に混乱が生じ、クエリ時にエラーが発生する可能性があるので、避ける必要があります。ストレージ空間の誤用は言うまでもない。

### 最適化とパフォーマンス{#optimization-and-performance}

構造を最適化することで、コンテンツの作成とクエリの両方に対するパフォーマンスを向上できます。

すべてがバランスを取る行為ですが、複雑すぎたり、レベルが多すぎる構造を作成すると、次のことができます。

* 作成者がコンテンツを生成する際にわかりにくい場合があります。

* クエリが複数のネストされた（参照された）コンテンツフラグメントにアクセスして必要なコンテンツを取得する必要がある場合、パフォーマンスに大きな影響を与えます。

## AEMヘッドレス用のデータモデリング{#data-modeling-for-aem-headless}

データモデリングは確立された一連の技術で、開発された関係データベースでよく使用されます。AEMヘッドレスの場合の意味は何ですか。

### なぜ？{#why}

アプリケーションがAEMに必要なコンテンツを一貫して効率的にリクエストし、受け取れるようにするには、このコンテンツの構造が必要です。

つまり、アプリケーションは事前に応答の形式を知っており、その処理方法を知っています。 これは、フリーフォームコンテンツを受け取るよりもずっと簡単です。フリーフォームコンテンツを解析して、そのコンテンツの内容と使用方法を判断する必要があります。

### 概要{#how}

AEMは、コンテンツフラグメントを使用して、コンテンツのヘッドレス配信に必要な構造をアプリケーションに提供します。

データモデルの構造は次のとおりです。

* は、コンテンツフラグメントモデルの定義によって実現されます。
* コンテンツの生成に使用されるコンテンツフラグメントの基礎として使用されます。

>[!NOTE]
>
>また、コンテンツフラグメントモデルはAEM GraphQLスキーマの基礎としても使用されます。 GraphQLはコンテンツの取得に使用されます。詳しくは、後ほど説明します。

コンテンツのリクエストは、標準のGraphQL APIのカスタマイズされた実装であるAEM GraphQL APIを使用して行われます。 AEM GraphQL APIを使用すると、コンテンツフラグメントに対して（複雑な）クエリを実行できます。各クエリは特定のモデルタイプに従います。

返されたコンテンツは、アプリケーションで使用できます。

## コンテンツフラグメントモデルを使用した構造の作成{#create-structure-content-fragment-models}

コンテンツフラグメントモデルには、コンテンツの構造を定義できる様々なメカニズムが用意されています。

コンテンツフラグメントモデルは、エンティティを記述します。

>[!NOTE]
>新しいモデルを作成できるように、設定ブラウザーでコンテンツフラグメント機能を有効にする必要があります。

>[!TIP]
>
>コンテンツフラグメントを作成する際に選択するモデルをコンテンツ作成者が把握できるように、モデルに名前を付ける必要があります。

モデル内：

1. **データ** 型を使用して、個々の属性を定義できます。例えば、教師の名前を持つフィールドを&#x200B;**Text**&#x200B;に、そのサービス年数を&#x200B;**Number**&#x200B;に定義します。
1. データ型&#x200B;**コンテンツ参照**&#x200B;および&#x200B;**フラグメント参照**&#x200B;を使用すると、AEM内の他のコンテンツとの関係を作成できます。
1. **フラグメント参照**&#x200B;データ型を使用すると、（モデルの種類に従って）コンテンツフラグメントをネストして、複数のレベルの構造を実現できます。 これは、データモデリングにとって重要です。

次に例を示します。
![コンテンツフラグメントを使用したコンテンツモデリング](assets/headless-modeling-01.png "コンテンツフラグメントを使用したコンテンツモデリング")

### データタイプ {#data-types}

AEMでは、次のデータ型を使用してコンテンツをモデリングできます。

* 1 行のテキスト
* 複数行テキスト
* 数値
* ブール型
* 日時
* 列挙
* タグ
* コンテンツ参照
* フラグメント参照
* JSON オブジェクト

### 参照とネストされたコンテンツ{#references-nested-content}

2つのデータ型は、特定のフラグメントの外部にあるコンテンツへの参照を提供します。

* **コンテンツ**
参照任意の種類の他のコンテンツへの簡単な参照を提供します。例えば、指定した場所で画像を参照できます。

* **フラグメント**
参照これは、他のコンテンツフラグメントへの参照を提供します。このタイプの参照は、ネストされたコンテンツを作成する際に使用し、コンテンツのモデル化に必要な関係を紹介します。
フラグメント作成者が次の操作をおこなえるようにデータタイプを設定可能
   * 参照先フラグメントの直接編集
   * 適切なモデルに基づいた新しいコンテンツフラグメントの作成

## モデルを使用したコンテンツフラグメントを含むコンテンツのオーサリング{#use-content-to-author-content}

コンテンツフラグメントは、常にコンテンツフラグメントモデルに基づいています。 モデルが構造を提供し、フラグメントにはコンテンツが保持されます。

### 適切なモデルを選択{#select-model}

コンテンツを実際に作成する最初の手順は、コンテンツフラグメントを作成することです。 これは、特定のコンテンツフラグメントモデルに基づいており、作成プロセスの最初の手順として選択します。

### 構造化コンテンツの作成、編集{#create-edit-structured-content}

フラグメントを作成したら、コンテンツフラグメントエディターで開くことができます。 ここでは、以下のことができます。

* コンテンツを通常モードまたはフルスクリーンモードで編集します。
* コンテンツの形式を「フルテキスト」、「プレーンテキスト」、「マークダウン」のいずれかに設定します。
* コンテンツのバリエーションを作成し、管理します。
* コンテンツを関連付け.
* メタデータを編集します。
* ツリー構造を表示します。
* JSON表現のプレビュー。

## 使用の手引き{#getting-started-examples}

<!--
tbc...
...and/or see the structures covered for the GraphQL samples...
...will those (ever) be delivered as an official sample package?
-->

基本構造のサンプルについては、サンプルコンテンツフラグメント構造を参照してください。

## 次の作業{#whats-next}

これで、構造のモデル化とそれに依存するコンテンツの作成の方法を学び、次は[GraphQLクエリを使用してコンテンツフラグメントのコンテンツにアクセスし、取得する方法を学びます](access-your-content.md)。 ここでは、GraphQLの紹介と説明を行い、実際の動作を確認するためのサンプルクエリをいくつか見てみます。

## その他のリソース {#additional-resources}

* [AEM Headless](https://experienceleague.adobe.com/docs/experience-manager-learn/getting-started-with-aem-headless/graphql/overview.html?lang=ja)  — はじめに — データモデリングやGraphQLなどのAEM headless機能の使い方の概要を説明する短いビデオチュートリアルシリーズ
* [コンテンツフラグメントの操作](/help/assets/content-fragments/content-fragments.md)  — コンテンツフラグメントのリードインページ
   * [設定ブラウザーのコンテンツフラグメント](/help/assets/content-fragments/content-fragments-configuration-browser.md)  — 設定ブラウザーのコンテンツフラグメント機能を有効にする
   * [コンテンツフラグメントモデル](/help/assets/content-fragments/content-fragments-models.md)  — コンテンツフラグメントモデルの作成と編集
   * [コンテンツフラグメントの管理](/help/assets/content-fragments/content-fragments-managing.md)  — コンテンツフラグメントの作成とオーサリング、このページでは、他の詳細なセクションを紹介します。
* [AEM GraphQLスキーマ](/help/implementing/developing/headless-journey/access-your-content.md) - GraphQLがモデルを実現する方法
* [サンプルコンテンツフラグメント構造](/help/assets/content-fragments/content-fragments-graphql-samples.md#content-fragment-structure-graphql)
