---
title: 開発とページの差分
description: ページの相違機能の仕組みと開発者への影響の理解
translation-type: tm+mt
source-git-commit: 57a9026dd944547196e53fecb1cf1213ed793af7
workflow-type: tm+mt
source-wordcount: '336'
ht-degree: 44%

---


# 開発とページの差分 {#developing-and-page-diff}

## 機能概要 {#feature-overview}

コンテンツの作成は反復的なプロセスです。効率的にオーサリングをおこなうには、反復するごとに何が変更されたかがわかるようにする必要があります。あるページバージョンを見てから別のページバージョンを見るのは非効率的であり、エラーが発生しやすくなります。作成者は、現在のページと前のバージョンを並べて比較する際に、差分が強調表示されるようにしたいと考えています。

ページの差分機能を使用すると、ユーザーは現在のページをローンチや以前のバージョンなどと比較できます。このユーザー機能について詳しくは、[ページの差分](/help/sites-cloud/authoring/features/page-diff.md)を参照してください。

## 操作の詳細 {#operation-details}

ページのバージョンを比較する場合、相違を容易にするために、ユーザーが比較したい以前のバージョンがAEMによってバックグラウンドで再作成されます。 これは、並べて比較するためにコンテンツ [をレンダリングできるようにする必要があります](/help/sites-cloud/authoring/features/page-diff.md)。

このレクリエーション操作はAEMが内部的に行い、ユーザーに対して透過的で、介入は必要ありません。 ただし、CRX DE Liteなどでリポジトリを表示している管理者には、コンテンツ構造内で再作成されたこれらのバージョンが表示されます。

コンテンツを比較すると、比較対象のページまでのツリー全体が次の場所に再作成されます。

`/tmp/versionhistory/`

この一時コンテンツをクリーンアップするために、クリーンアップタスクが自動的に実行されます。

## 制限事項 {#limitations}

相違はDOM比較によってクライアント側で行われるので、相違処理は簡単ですが、開発者が考慮する必要のあるいくつかの制限があります。

* この機能では、AEM 製品の名前空間にない CSS クラスが使用されます。同じ名前を持つ他のカスタムCSSクラスまたはサードパーティのCSSクラスがページに含まれている場合は、相違の表示に影響する場合があります。

   * `html-added`
   * `html-removed`
   * `cq-component-added`
   * `cq-component-removed`
   * `cq-component-moved`
   * `cq-component-changed`

* 差分はクライアント側でページの読み込み時に実行されるので、クライアント側の差分サービスが実行された後に DOM を調整しても、その効果はありません。これは、次の項目に影響を与える可能性があります。

   * AJAXを使用してコンテンツを含めるコンポーネント
   * 単一ページアプリケーション
   * ユーザーインタラクションに対して DOM を操作する JavaScript ベースのコンポーネント
