---
title: AEM as a Cloud Service での CDN
description: AEM as a Cloud Service での CDN
translation-type: tm+mt
source-git-commit: dd32e9357bfbd8a9b23db1167cecc4e713cccd99
workflow-type: tm+mt
source-wordcount: '646'
ht-degree: 97%

---


# AEM as a Cloud Service での CDN {#cdn}

AEM as Cloud Service の出荷時には、組み込みの CDN が搭載されています。その主な目的は、ブラウザーの近くの CDN エッジノードからキャッシュ可能なコンテンツを配信することで、待ち時間を減らすことです。AEM アプリケーションの最適なパフォーマンスを得るために、完全に管理および設定されています。

AEM が管理する CDN は、ほとんどの顧客のパフォーマンスとセキュリティに関する要件を満たします。オプションとして、顧客は独自の CDN からそれらを参照することもできますが、その場合は自社で管理する必要があります。このオプションは、放棄が困難な CDN ベンダーとのレガシー統合を保有する顧客など（ただし、これに限定されない）、特定の前提条件を満たしていることに基づき、ケースバイケースで使用できます。

## AEM 管理による CDN {#aem-managed-cdn}

アドビの標準搭載 CDN を使用してコンテンツ配信に備えるには、次の手順に従います。

1. この情報を含む安全なフォームへのリンクを共有して、署名済みの SSL 証明書と秘密鍵をアドビに提供します。このタスクについてカスタマーサポートと調整してください。
   **注意：** AEM as a Cloud Service は、ドメイン検証（DV）証明書をサポートしていません。
1. カスタマーサポートに通知：
   * どのカスタムドメインを特定の環境に関連付けるか（プログラム ID と環境 ID で定義）。オーサー側のカスタムドメインはサポートされていません。
   * トラフィックを特定の環境に制限するためにIP許可リストが必要な場合。
1. DNS レコードに必要な変更のタイミングについて、カスタマーサポートと連携します。手順は、apex レコードが必要かどうかに応じて異なります。
   * apex レコードが不要な場合は、FQDN が `cdn.adobeaemcloud.com` を指すように、CNAME DNS レコードを設定する必要があります。
   * apex レコードが必要な場合は、次の IP を指す A レコードを作成します。151.101.3.10、151.101.67.10、151.101.131.10、151.101.195.10。必要な FQDN が DNS ゾーンと一致する場合、apex レコードが必要です。これは、Unix dig コマンドを使用して、出力の SOA 値がドメインと一致するか確認することでテストできます。例えば、`dig anything.dev.adobeaemcloud.com` コマンドが `dev.adobeaemcloud.com` の SOA（権限の開始、つまりゾーン）を返す場合、apex レコードではなく、`dig dev.adobeaemcloud.com` が `dev.adobeaemcloud.com` の SOA を返す場合、apex レコードです。
1. SSL 証明書の有効期限が切れると、新しい SSL 証明書を再送信できるように通知されます。

**トラフィックの制限**

デフォルトでは、アドビが管理する CDN のセットアップの場合、すべてのパブリックトラフィックは、実稼動版と非実稼動版（開発およびステージング）環境の両方で、パブリッシュサービスに到達できます。特定の環境のパブリッシュサービスへのトラフィックを制限する場合（IP アドレスの範囲でステージングを制限する場合など）、カスタマーサポートと協力してこれらの制限を設定する必要があります。

## 顧客 CDN で AEM 管理 CDN を参照する {#point-to-point-CDN}

顧客が既存の CDN を使用する必要がある場合は、自社でその CDN を管理してアドビの管理対象 CDN を参照できます。ただし、次の条件を満たす必要があります。

* 顧客は、交換するのに手間がかかる既存 CDN を保有している。
* 顧客が自社で管理している。
* CDN を AEM as a Cloud Service と連携するように設定できる。設定手順を以下に示します。
* 関連する問題が発生する事態に備えて、エンジニアリング CDN エキスパートが待機している。
* 実稼動環境に移行する前に、負荷テストを実行し、成功している。

設定手順：

1. `X-Forwarded-Host` ヘッダーをドメイン名で設定します。
1. ホストヘッダーを接触チャネルドメインに設定します（アドビの CDN の入口）。この値はアドビから取得されます。
1. SNI ヘッダーを接触チャネルに送信します。ホストヘッダーと同様に、sni ヘッダーはドメイン接触チャネルです。
1. トラフィックを AEM サーバーに正しくルーティングするために必要な `X-Edge-Key` を設定します。この値はアドビから取得されます。

ライブトラフィックを受け入れる前に、アドビカスタマーサポートに問い合わせて、エンドツーエンドのトラフィックルーティングが正しく機能していることを検証する必要があります。

顧客 CDN からアドビが管理する CDN へのホップは効率的ですが、ホップの増加に伴い、パフォーマンスがわずかに低下する可能性があることに注意してください。
