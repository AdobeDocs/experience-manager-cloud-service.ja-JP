---
title: クラウドサービスとしてのAEMでのCDN
description: クラウドサービスとしてのAEMでのCDN
translation-type: tm+mt
source-git-commit: 9d99a7513a3a912b37ceff327e58a962cc17c627
workflow-type: tm+mt
source-wordcount: '889'
ht-degree: 80%

---


# クラウドサービスとしてのAEMでのCDN {#cdn}

AEM as Cloud Service は、組み込みの CDN で出荷されます。その主な目的は、ブラウザーの近くの CDN エッジノードからキャッシュ可能なコンテンツを配信することで、待ち時間を減らすことです。AEM アプリケーションの最適なパフォーマンスを得るために、完全に管理および設定されています。

AEM は全部で 2 つのオプションを提供します。

1. AEM 管理による CDN - AEM で標準提供される CDN。これは緊密に統合されたオプションで、AEM との CDN 統合をサポートするために、顧客が大量に投資する必要はありません。
1. 顧客管理による CDN で AEM 管理による CDN を指す - 独自の CDN で AEM の標準 CDN を指します。顧客は引き続き独自の CDN を管理する必要がありますが、AEM との統合への投資は適度になります。

最初のオプションは、顧客のパフォーマンスとセキュリティ要件のほとんどを満たす必要があります。さらに、お客様の作業を最小限に抑える必要があります。

2 つ目のオプションは、ケースバイケースで許可されます。その判断は、放棄が困難な CDN ベンダーとのレガシーな統合を保有する顧客をはじめとする、特定の前提条件（ただし、これに限定されない）を満たすことに基づいておこなわれます。

以下に、2 つのオプションを比較するための決定マトリックスを示します。詳しくは、以降の節を参照してください。

| 詳細 | AEM 管理による CDN | 顧客管理による CDN で AEM CDN を指す |
|---|---|---|
| **顧客の取り組み** | なし、完全に統合。CNAME で AEM 管理による CDN を指す必要があるのみ。 | 適度な顧客投資。顧客は独自の CDN を管理する必要がある。 |
| **前提条件** | なし | 既存の CDN を置き換えるのに負担がかかる。運用を開始する前に、負荷テストの成功を示す必要がある。 |
| **CDN の専門知識** | なし | CDN の詳細な知識を持ち、顧客の CDN を設定できるパートタイムエンジニアリングリソースが 1 人以上必要。 |
| **セキュリティ** | アドビが管理。 | アドビが管理（またオプションで、顧客による独自 CDN の管理）。 |
| **パフォーマンス** | アドビが最適化。 | 一部の AEM CDN 機能のメリットが得られるが、追加のホップが原因でパフォーマンスが低下する可能性がある。**注意**：顧客 CDN からアドビの標準搭載 CDN へのホップが効率的になる可能性がある。 |
| **キャッシュ** | Dispatcher で適用されるキャッシュヘッダーをサポート。 | Dispatcher で適用されるキャッシュヘッダーをサポート。 |
| **画像およびビデオ圧縮機能** | Adobe Dynamic Media と連携可能。 | Adobe Dynamic Media または顧客が管理する CDN 画像／ビデオソリューションと連携可能。 |

## AEM 管理による CDN {#aem-managed-cdn}

アドビの標準搭載CDNを使用してコンテンツ配信に備えるには、次の手順に従います。

1. この情報を含む安全なフォームへのリンクを共有することで、署名済みの SSL 証明書と秘密鍵をアドビに提供します。このタスクについてカスタマーサポートと調整してください。
   **注意：** AEM as a Cloud Service は、ドメイン検証（DV）証明書をサポートしていません。
1. カスタマーサポートに次の情報を伝える必要があります。
   * どのカスタムドメインを特定の環境に関連付けるか（プログラム ID と環境 ID で定義）。作成者側のカスタムドメインはサポートされていません。
   * トラフィックを特定の環境に制限するために IP ホワイトリストが必要な場合。
1. DNSレコードに必要な変更のタイミングについて、カスタマーサポートと調整を行う必要があります。 手順は、頂点レコードが必要かどうかに応じて異なります。
   * apexレコードが不要な場合は、FQDNが指すようにCNAME DNSレコードを設定する必要があり `cdn.adobeaemcloud.com`ます。
   * apexレコードが必要な場合は、次のIPを指すAレコードを作成します。 151.101.3.10、151.101.67.10、151.101.131.10、151.101.195.10。必要なFQDNがDNSと一致する場合、顧客にはエイペックスレコードが必要です。ゾーン。 これは、Unix digコマンドを使用して、出力のSOA値がドメインと一致するかどうかを確認することでテストできます。 例えば、APEXレコードではな `dig anything.dev.adobeaemcloud.com` くSOA(権限の開始、つまりゾーン)が戻され、SOAが戻され `dev.adobeaemcloud.com``dig dev.adobeaemcloud.com``dev.adobeaemcloud.com` て頂点レコードになります。
1. SSL 証明書の有効期限が切れると、新しい SSL 証明書を再送信できるように通知されます。

**トラフィックの制限**

デフォルトでは、アドビが管理する CDN のセットアップの場合、すべてのパブリックトラフィックは、実稼動版と非実稼動版（開発およびステージング）環境の両方で、パブリックサービスに到達できます。特定の環境のパブリッシュサービスへのトラフィックを制限する場合（IP アドレスの範囲でステージングを制限する場合など）、カスタマーサポートと協力してこれらの制限を設定する必要があります。

## 顧客 CDN で AEM 管理 CDN を指す {#point-to-point-CDN}

既存の CDN を使用したいが、顧客が管理する CDN の要件を満たしていない場合にサポートされます。この場合、顧客は独自の CDN を管理しますが、アドビの管理 CDN を指します。

次の点に注意してください。

1. 既存の CDN があること。
1. それを管理すること。
1. CDN を AEM as a Cloud Service と連携するように設定できる必要があります。設定手順を以下に示します。
1. 関連する問題が発生する事態に備えて、エンジニアリング CDN エキスパートを待機させておく必要があります。
1. 実稼動環境に移行する前に、負荷テストを実行し、成功させる必要があります。

設定手順：

1. `X-Forwarded-Host` ヘッダーをドメイン名で設定します。
1. ホストヘッダーを接触チャネルドメインに設定します（アドビの CDN の侵入）。この値はアドビから取得されます。
1. SNI ヘッダーを接触チャネルに送信します。ホストヘッダーと同様に、sni ヘッダーはドメイン接触チャネルです。
1. トラフィックを AEM サーバーに正しくルーティングするために必要な `X-Edge-Key` を設定します。この値はアドビから取得されます。

ライブトラフィックを受け入れる前に、アドビカスタマーサポートに問い合わせて、エンドツーエンドのトラフィックルーティングが正しく機能していることを検証する必要があります。
