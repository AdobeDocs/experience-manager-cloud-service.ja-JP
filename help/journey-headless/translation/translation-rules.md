---
title: ヘッドレスコンテンツの翻訳ルールの設定
description: 翻訳するコンテンツを特定するための翻訳ルールを定義する方法を説明します。
exl-id: 878ffd5d-0f10-4990-9779-bdf55cd95fac
source-git-commit: 1994b90e3876f03efa571a9ce65b9fb8b3c90ec4
workflow-type: tm+mt
source-wordcount: '942'
ht-degree: 96%

---

# 翻訳ルールの設定 {#configure-translation-rules}

翻訳するコンテンツを特定するための翻訳ルールを定義する方法を説明します。

## これまでの説明内容 {#story-so-far}

AEM ヘッドレス翻訳ジャーニーの以前のドキュメント（[翻訳コネクタの設定](configure-connector.md)）では、翻訳コネクタをインストールおよび設定する方法について説明し、次のことができるようになりました。

* AEM の翻訳統合フレームワークの重要なパラメーターを理解する
* 翻訳サービスへの独自の接続をセットアップできる

コネクタがセットアップされたので、この記事では次のステップとして、翻訳が必要なコンテンツを特定する方法について説明します。

>[!CAUTION]
>
>このドキュメントジャーニーの手順は、コンテンツフラグメントで&#x200B;**翻訳可能**&#x200B;フラグを使用しない場合のみ必要です。
>
>* **翻訳可能**&#x200B;フラグは、自動的に翻訳ルールを作成するので、操作は必要ありません。
>* この **翻訳可能** フラグは、翻訳統合フレームワーク設定が **[翻訳するコンテンツモデルフィールドの有効化](/help/sites-cloud/administering/translation/integration-framework.md)**.
>* TIF 設定でこのオプションを有効にすると、手動で作成した翻訳ルールが置き換えられます。|

## 目的 {#objective}

このドキュメントを通じて、AEM の翻訳ルールを使用して翻訳コンテンツを特定する方法を理解できるようになります。読み終えると、次のことができるようになります。

* 翻訳ルールの機能を理解する
* 独自の翻訳ルールを定義できる

## 翻訳ルール {#translation-rules}

コンテンツフラグメントはヘッドレスコンテンツを表すものですが、その中には、構造化されたフィールドにより整理された多くの情報を含めることができます。プロジェクトのニーズによっては、コンテンツフラグメント内の必ずしもすべてのフィールドを翻訳する必要がない場合があります。

翻訳ルールは、翻訳プロジェクトに含める、または翻訳プロジェクトから除外するコンテンツを特定します。コンテンツが翻訳されると、AEM はこれらのルールに基づいてコンテンツを抜き出すか組み込みます。このようにして、翻訳が必要なコンテンツのみが翻訳サービスに送信されます。

翻訳ルールには以下の情報が含まれます。

* ルールが適用されるコンテンツのパス
   * コンテンツの子ノードにもルールが適用されます
* 翻訳するコンテンツを含んだプロパティの名前
   * このプロパティは、特定のリソースタイプに固有のものでも、すべてのリソースタイプに固有のものでもかまいません

コンテンツフラグメントモデルは、コンテンツフラグメントの構造を定義するものであり、プロジェクトに固有のものなので、コンテンツモデルのどの要素を翻訳するかを AEM が把握できるように、翻訳ルールをセットアップすることが不可欠です。

>[!TIP]
>
>通常は、コンテンツアーキテクトが、翻訳が必要なすべてのフィールドの「**プロパティ名**」を翻訳担当者に提供します。これらの名前は、翻訳ルールを設定するために必要です。このジャーニーで前述したように、翻訳担当者は[これらの「**プロパティ名**」を自分でを見つけることができます](getting-started.md#content-modlels)。

## 翻訳ルールの作成 {#creating-rules}

複数のルールを作成して、複雑な翻訳要件をサポートすることができます。例えば、取り組んでいるプロジェクトのうち一方では、モデルのすべてのフィールドを翻訳する必要があるのに対して、もう一方では、説明フィールドのみ翻訳が必要で、タイトルは翻訳せずにそのままにしておく、といった場合があります。

翻訳ルールは、このようなシナリオに対応できるように設計されています。ただし、ここでは、シンプルな単一の設定に的を絞って、ルールの作成方法を説明します。

翻訳ルールの設定に使用できる&#x200B;**翻訳設定**&#x200B;コンソールがあります。これにアクセスするには：

1. **ツール**／**一般**&#x200B;に移動します。
1. 「**翻訳設定**」をタップまたはクリックします。

**翻訳設定** UI には、翻訳ルールに使用できるオプションが多数あります。ここでは、基本的なヘッドレスローカライゼーション設定に必要な最も一般的な手順を示します。

1. 「**コンテキストを追加**」をタップまたはクリックすると、パスを追加できます。これは、ルールの影響を受けるコンテンツのパスです。
   ![コンテキストの追加](assets/add-translation-context.png)
1. パスブラウザーを使用して必要なパスを選択し、「**確認**」ボタンをタップまたはクリックして保存します。なお、ヘッドレスコンテンツを保持するコンテンツフラグメントは、通常、`/content/dam/<your-project>` の配下に配置されます。
   ![パスの選択](assets/select-context.png)
1. AEM により設定が保存されます。
1. 作成したコンテキストを選択したあと、「**編集**」をタップまたはクリックする必要があります。これにより、プロパティを設定するための&#x200B;**翻訳ルールエディター**が開きます。
   ![翻訳ルールエディター](assets/translation-rules-editor.png)
1. デフォルトでは、すべての設定が親パス（この例では `/content/dam`）から継承されます。「 」オプションの選択を解除します。 **継承元`/content/dam`** 設定にフィールドを追加できます。
1. オフにしたら、コンテンツフラグメントモデルのプロパティ名のうち、[翻訳対象のフィールドとして既に特定されている](getting-started.md#content-models)ものを、リストの「**一般**」セクションに追加します。
   1. プロパティ名を「**新しいプロパティ**」フィールドに入力します。
   1. 「**翻訳**」オプションと「**継承**」オプションが自動的にオンになります。
   1. 「**追加**」をタップまたはクリックします。
   1. 翻訳が必要なすべてのフィールドについて、上記の手順を繰り返します。
   1. 「**保存**」して閉じるをタップまたはクリックします。
      ![プロパティの追加](assets/add-property.png)

これで、翻訳ルールが設定されました。

## 高度な使用方法 {#advanced-usage}

翻訳ルールの一部として設定できる追加のプロパティが多数あります。さらに、ルールを XML として手動で指定できるので、個別の要件への対応能力と柔軟性を高めることができます。

このような機能は、通常、ヘッドレスコンテンツのローカライズを開始する際に必要なものではありませんが、興味があれば、[その他のリソース](#additional-resources)の節を参照して詳細を確認してください。

## 次の手順 {#what-is-next}

これで、ヘッドレス翻訳ジャーニーのこの手順が完了し、以下のことができるようになりました。

* 翻訳ルールの機能を理解する
* 独自の翻訳ルールを定義できる

この知識を基に、AEM ヘッドレス翻訳ジャーニーを続けてください。次に、[コンテンツの翻訳](translate-content.md)のドキュメントを参照しながら、コネクタとルールを連携させてヘッドレスコンテンツを翻訳する方法について説明します。

## その他のリソース {#additional-resources}

[コンテンツの翻訳](translate-content.md)のドキュメントを確認して、ヘッドレス翻訳ジャーニーの次のステップに進むことをお勧めします。ヘッドレスジャーニーの続行に必須ではありませんが、この記事で取り上げたいくつかの概念について詳しく説明している追加のオプションリソースを以下に挙げておきます。

* [翻訳対象コンテンツの特定](/help/sites-cloud/administering/translation/rules.md) - 翻訳が必要なコンテンツを翻訳ルールで特定する方法について説明します。
